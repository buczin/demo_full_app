{"version":3,"sources":["webpack:///src/app/offers/print-offer-settings/print-offer-settings.component.ts","webpack:///src/app/offers/print-offer-settings/print-offer-settings.component.html","webpack:///src/app/offers/form/add-offer-position/add-offer-position.component.ts","webpack:///src/app/offers/form/add-offer-position/add-offer-position.component.html","webpack:///src/app/offers/timeline-widget/timeline-widget.component.ts","webpack:///src/app/offers/timeline-widget/timeline-widget.component.html","webpack:///src/app/offers/form/update-client-helpers/update-client-helpers.component.ts","webpack:///src/app/offers/form/update-client-helpers/update-client-helpers.component.html","webpack:///src/app/offers/view-offer/view-offer.component.ts","webpack:///src/app/offers/view-offer/view-offer.component.html","webpack:///src/app/offers/main-offers/main-offers.component.ts","webpack:///src/app/offers/main-offers/main-offers.component.html","webpack:///src/app/offers/form/update-offer-position/update-offer-position.component.ts","webpack:///src/app/offers/form/update-offer-position/update-offer-position.component.html","webpack:///src/app/offers/form/new-offer/form-new-offer.component.ts","webpack:///src/app/offers/form/new-offer/form-new-offer.component.html","webpack:///src/app/offers/details-offer/details-offer.component.ts","webpack:///src/app/offers/details-offer/details-offer.component.html","webpack:///src/app/offers/offers-routing.module.ts","webpack:///src/app/offers/offers.module.ts","webpack:///src/app/offers/form/update-client-helper-range/update-client-helper-range.component.ts","webpack:///src/app/offers/form/update-client-helper-range/update-client-helper-range.component.html"],"names":["PrintOfferSettingsComponent","offerService","infoPopup","change","printTextHeader","printTextTableFotter","newCommentForm","editTableFooter","editHeader","loading","commentId","selectedComments","offer","offerComments","forEach","element","push","id","getAllComments","updatePrintHeaderInOffer","offerNumber","subscribe","next","res","showSuccessUpdate","emit","error","err","console","log","showErrorUpdate","updatePrintTableFooterInOffer","allComments","newComment","data","comment","updateComment","deleteComment","send","x","e","updateCommentsListInOffer","selector","templateUrl","styleUrls","encapsulation","None","AddOfferPositionComponent","productionService","settingService","cookieService","ref","config","helper","exchangeRateAlu","exchangeRatePcv","defaultSetCost","defaultClientSetUpCost","defaultPrintTextHeader","defaultPrintTextTableFotter","defaultCostChangeColor","selectedSystem","selectedCatalog","searchBy","sideSug","offerData","check","set","JSON","stringify","parse","get","filterBySystem","getHelpers","changeAlu","complete","formOfferPosition","profilType","validators","required","profilNumber","alu","catalogIdHelper","warranty","offerPositionSides","side","filmNumber","filmWidth","nullValidator","filmEntrusted","quantityMb","hard","changeColor","bicolor","costChangeColor","exchangeRate","additional","client","helper_additional","cost","helper_cost","mIs","calculateSides","allCatalog","i","catalogSuggestions","length","cat","systemProfil","name","event","catalogSugFiltered","query","number","includes","toLowerCase","profileType","filmSugFiltered","filmSuggestions","film","sideSugFiltered","indexOf","close","group","sides","value","tmp","at","addSide","patchValue","removeAt","controls","setValue","surchargePercentage","index","dimOneSide","dimCenterSide","dimTwoSide","dimTwoSideOuter","dimTwoSideInner","dimOuter","dimInner","offerName","changeHard","loadM","helper_costChangeColor","tmpHard","helper_mHardTo50","helper_mEasyTo50","helper_mHardTo150","helper_mEasyTo150","helper_mHardTo500","helper_mEasyTo500","helper_mHardAbove500","helper_mEasyAbove500","addNewOfferPosition","showSuccessAdd","exit","showErrorAdd","searchCatalog","onSelectCatalog","duplicateLastSide","addOfferPosition","TimelineWidgetComponent","newNote","now","Date","setInterval","getOfferNotes","offerNotes","sort","a","b","createdDate","addNewOfferNote","getNotes","deleteOfferNote","showSuccessDelete","addNewNote","UpdateClientHelpersComponent","formClientHelper","helper_setUpCost","updateClientHelpers","updateHelpers","ViewOfferComponent","printOfferService","headerText","footerInfo","hideWarranty","hideZM","changes","propName","currentValue","offerPositions","offerPosition","checkIfWarranty","checkIfZM","offerId","positions","find","test","s","MainOffersComponent","dialogService","globalService","offersCount","loadingTable","optionsSort","label","NOWA","loadData","getAllOrdersNew","open","header","styleClass","width","onClose","result","loadingGlobal","getCountOffers","showErrorDownload","getAllOffers","allOffers","getAllOffersByStatus","data1","data2","value1","field","value2","result2","localeCompare","Math","abs","substring","order","showDialogToAddOffer","customSort","UpdateOfferPositionComponent","findSystem","updateOfferPosition","FormNewOfferComponent","route","router","color","pl","firstDayOfWeek","dayNames","dayNamesShort","dayNamesMin","monthNames","monthNamesShort","today","clear","dateFormat","weekHeader","formOffer","offerDate","myCompany","getMyCompanies","getClients","addNewOffer","navigate","relativeTo","addOffer","OfferResolver","state","paramMap","getOfferById","DetailsOfferComponent","confirmationService","loadingSaveHelper","displayFormExchange","displayPrintOffer","loadingPrintOffer","totalPLN","totalAdditionalU","totalAdditionalP","allTotalPLN","positionNumber","loadCatalogSuggestions","loadFilmSuggestions","loadAllSystems","navigateByUrl","confirm","message","acceptLabel","rejectLabel","acceptIcon","acceptButtonStyleClass","rejectButtonStyleClass","accept","deleteOffer","backClicked","showErrorDelete","posData","deleteOfferPosition","initPrint","closePrintOffer","showDialogToUpdateHelperOffer","showDialogToUpdateHelperOfferRange","showDialogToAddOfferPosition","showDialogToSelectPrint","printOffer","printOfferCosts","routes","path","component","resolve","OffersRoutingModule","forChild","imports","exports","OffersModule","declarations","providers","UpdateClientHelperRangeComponent","updateClientHelpersRange"],"mappings":"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","file":"offers-offers-module-es5.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { Offer, OffersService } from '../offers.service';\n\n@Component({\n  selector: 'app-print-offer-settings',\n  templateUrl: './print-offer-settings.component.html',\n  styleUrls: ['./print-offer-settings.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class PrintOfferSettingsComponent implements OnInit {\n\n  @Input() offer: Offer;\n  @Output() change = new EventEmitter();\n\n  printTextHeader = \"\";\n  printTextTableFotter = \"\";\n  newCommentForm = \"\";\n  editTableFooter = false;\n  editHeader = false;\n  loading = false;\n  commentId = null;\n\n  allComments: any;\n  selectedComments = [];\n\n\n  constructor(\n    private offerService: OffersService,\n    private infoPopup: InfoPopupComponent\n  ) { }\n\n  ngOnInit(): void {\n    this.printTextHeader = this.offer.printTextHeader;\n    this.printTextTableFotter = this.offer.printTextTableFotter;\n    this.offer.offerComments.forEach(element => {\n      this.selectedComments.push(element.id)\n    });\n    this.getAllComments();\n  }\n\n  updatePrintHeader() {\n    this.loading = true;\n    this.offerService.updatePrintHeaderInOffer(this.offer.offerNumber, this.printTextHeader).subscribe({\n      next: (res) => {\n        this.printTextHeader = res;\n        this.editHeader = false;\n        this.infoPopup.showSuccessUpdate(\"nagownek oferty\");\n        this.loading = false;\n        this.change.emit();\n      }, error: (err) => {\n        console.log(err);\n        this.loading = false;\n        this.infoPopup.showErrorUpdate(\"nagownek oferty\");\n      }\n    })\n  }\n\n  updatePrintTableFooter() {\n    this.loading = true;\n    this.offerService.updatePrintTableFooterInOffer(this.offer.offerNumber, this.printTextTableFotter).subscribe({\n      next: (res) => {\n        this.printTextTableFotter = res;\n        this.editTableFooter = false;\n        this.infoPopup.showSuccessUpdate(\"opis tabeli\");\n        this.loading = false;\n        this.change.emit();\n      }, error: (err) => {\n        console.log(err);\n        this.loading = false;\n        this.infoPopup.showErrorUpdate(\"opis tabeli\");\n      }\n    })\n  }\n\n  // COMMENTS\n\n  getAllComments() {\n    this.offerService.getAllComments().subscribe({\n      next: (res) => {\n        this.allComments = res;\n      },\n      error: (err) => {\n        console.log(err);\n      }\n    })\n  }\n\n  newComment() {\n    this.offerService.newComment(this.newCommentForm).subscribe({\n      next: (res) => {\n        this.getAllComments();\n        this.newCommentForm = \"\";\n      },\n      error: (err) => {\n        console.log(err);\n      }\n    })\n  }\n\n  editComment(data) {\n    this.newCommentForm = data.comment;\n    this.commentId = data.id;\n  }\n\n  exitUpdateComment() {\n    this.newCommentForm = '';\n    this.commentId = null;\n  }\n\n  updateComment() {\n    this.offerService.updateComment(this.commentId, this.newCommentForm).subscribe({\n      next: (res) => {\n        this.getAllComments();\n        this.newCommentForm = '';\n        this.commentId = null;\n      },\n      error: (err) => {\n        console.log(err);\n      }\n    })\n  }\n\n  deleteComment(id) {\n    console.log(id);\n    this.offerService.deleteComment(id).subscribe({\n      next: (res) => {\n        this.getAllComments();\n      },\n      error: (err) => {\n        console.log(err);\n      }\n    })\n  }\n\n  updateCommentInOffer() {\n    console.log(\"test\");\n    let send = [];\n    this.selectedComments.forEach(x => {\n      this.allComments.forEach(e => {\n        if (e.id == x) {\n          send.push(e);\n        }\n      });\n    })\n    this.offerService.updateCommentsListInOffer(this.offer.offerNumber, send).subscribe({\n      next: (res) => {\n        console.log(res);\n      },\n      error: (err) => {\n        console.log(err);\n      }\n    })\n  }\n\n}\n","<div class=\"print-offer-settings\">\n\n    <div class=\"set-header row\">\n        <div class=\"header-name\">\n            <h5>Nagwek</h5>\n        </div>\n        <div class=\"break\"></div>\n        <div class=\"area\">\n            <div class=\"text\" *ngIf=\"!editHeader\" [innerHTML]=\"printTextHeader\"></div>\n            <div class=\"btn-edit\" *ngIf=\"!editHeader\">\n                <button pButton pRipple type=\"button\" (click)=\"editHeader = !editHeader\" icon=\"pi pi-pencil\"\n                    class=\"p-button-sm sb-button gray m-1\" style=\"height: 28px;\"></button>\n            </div>\n            <div class=\"col-g-12 col-md-12 col-lg-12\" *ngIf=\"editHeader\">\n                <p-editor [(ngModel)]=\"printTextHeader\" [style]=\"{'height':'320px'}\">\n                    <p-header>\n                        <span class=\"ql-formats\">\n                            <button class=\"ql-bold\" aria-label=\"Pogrubienie\"></button>\n                            <button class=\"ql-italic\" aria-label=\"Kursywa\"></button>\n                            <button class=\"ql-underline\" aria-label=\"Podkrelenie\"></button>\n                            <button class=\"ql-list\" value=\"ordered\" aria-label=\"Lista uporzdkowana\"></button>\n                            <button class=\"ql-list\" value=\"bullet\" aria-label=\"Lista nieuporzdkowana\"></button>\n                            <select class=\"ql-align\">\n                                <option selected></option>\n                                <option value=\"center\"></option>\n                                <option value=\"right\"></option>\n                                <option value=\"justify\"></option>\n                            </select>\n                            <button class=\"ql-code-block\" aria-label=\"Insert Code Block\"></button>\n                        </span>\n                    </p-header>\n                </p-editor>\n                <div class=\"sb-dialog-footer\">\n                    <div class=\"sb-btn-close\">\n                        <button pButton pRipple type=\"button\" (click)=\"editHeader = !editHeader\"\n                            pTooltip=\"Anulowanie dodawania\" label=\"Anuluj\" icon=\"pi pi-times\"\n                            class=\"p-button-sm sb-button o-gray\">\n                        </button>\n                    </div>\n                    <div class=\"sb-btn-save\">\n                        <button [disabled]=\"loading\" pButton pRipple type=\"button\" (click)=\"updatePrintHeader()\"\n                            pTooltip=\"Zapisz nagownek\" label=\"Zapisz\" icon=\"pi pi-check\"\n                            class=\"p-button-sm sb-button green\">\n                        </button>\n                        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\"\n                            styleClass=\"custom-spinner\" strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\">\n                        </p-progressSpinner>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"set-tableFooter row\">\n        <div class=\"header-name\">\n            <h5>Opis tabeli</h5>\n        </div>\n        <div class=\"break\"></div>\n        <div class=\"area\">\n            <div class=\"text\" *ngIf=\"!editTableFooter\" [innerHTML]=\"printTextTableFotter\"></div>\n            <div class=\"btn-edit\" *ngIf=\"!editTableFooter\">\n                <button pButton pRipple type=\"button\" (click)=\"editTableFooter = !editTableFooter\" icon=\"pi pi-pencil\"\n                    class=\"p-button-sm sb-button gray m-1\" style=\"height: 28px;\"></button>\n            </div>\n            <div class=\"col-g-12 col-md-12 col-lg-12\" *ngIf=\"editTableFooter\">\n                <p-editor [(ngModel)]=\"printTextTableFotter\" [style]=\"{'height':'320px'}\">\n                    <p-header>\n                        <span class=\"ql-formats\">\n                            <button class=\"ql-bold\" aria-label=\"Pogrubienie\"></button>\n                            <button class=\"ql-italic\" aria-label=\"Kursywa\"></button>\n                            <button class=\"ql-underline\" aria-label=\"Podkrelenie\"></button>\n                            <button class=\"ql-list\" value=\"ordered\" aria-label=\"Lista uporzdkowana\"></button>\n                            <button class=\"ql-list\" value=\"bullet\" aria-label=\"Lista nieuporzdkowana\"></button>\n                            <select class=\"ql-align\">\n                                <option selected></option>\n                                <option value=\"center\"></option>\n                                <option value=\"right\"></option>\n                                <option value=\"justify\"></option>\n                            </select>\n                            <button class=\"ql-code-block\" aria-label=\"Insert Code Block\"></button>\n                        </span>\n                    </p-header>\n                </p-editor>\n                <div class=\"sb-dialog-footer\">\n                    <div class=\"sb-btn-close\">\n                        <button pButton pRipple type=\"button\" (click)=\"editTableFooter = !editTableFooter\"\n                            pTooltip=\"Anulowanie dodawania\" label=\"Anuluj\" icon=\"pi pi-times\"\n                            class=\"p-button-sm sb-button o-gray\">\n                        </button>\n                    </div>\n                    <div class=\"sb-btn-save\">\n                        <button [disabled]=\"loading\" pButton pRipple type=\"button\" (click)=\"updatePrintTableFooter()\"\n                            pTooltip=\"Zapisz opis\" label=\"Zapisz\" icon=\"pi pi-check\"\n                            class=\"p-button-sm sb-button green\">\n                        </button>\n                        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\"\n                            styleClass=\"custom-spinner\" strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\">\n                        </p-progressSpinner>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"set-comments row\">\n        <div class=\"header-name\">\n            <h5>Uwagi</h5>\n        </div>\n        <div class=\"break\"></div>\n        <div class=\"area-comment\">\n            <ul class=\"comment-list\">\n                <li *ngFor=\"let item of allComments\">\n                    <div class=\"check\">\n                        <p-checkbox name=\"groupname\" (onChange)=\"updateCommentInOffer()\" value=\"item\"\n                            [(ngModel)]=\"selectedComments\" [value]=\"item.id\"></p-checkbox>\n                    </div>\n                    <div class=\"text\" [innerHTML]=\"item.comment\"></div>\n                    <div class=\"btn-edit\">\n                        <button pButton pRipple type=\"button\" icon=\"pi pi-pencil\" (click)=\"editComment(item)\"\n                            class=\"p-button-sm sb-button gray m-1\" style=\"height: 28px;\"></button>\n                        <button pButton pRipple (click)=\"deleteComment(item.id)\" type=\"button\" icon=\"pi pi-trash\"\n                            class=\"p-button-sm sb-button red m-1\" style=\"height: 28px;\"></button>\n                    </div>\n                </li>\n            </ul>\n            <div class=\"new-comment\">\n                <!-- <textarea rows=\"5\" cols=\"30\" pInputTextarea [(ngModel)]=\"newCommentForm\"></textarea> -->\n\n                <p-editor [(ngModel)]=\"newCommentForm\" [style]=\"{'height':'150px'}\">\n                    <p-header>\n                        <span class=\"ql-formats\">\n                            <button class=\"ql-bold\" aria-label=\"Pogrubienie\"></button>\n                            <button class=\"ql-italic\" aria-label=\"Kursywa\"></button>\n                            <button class=\"ql-underline\" aria-label=\"Podkrelenie\"></button>\n                            <button class=\"ql-list\" value=\"ordered\" aria-label=\"Lista uporzdkowana\"></button>\n                            <button class=\"ql-list\" value=\"bullet\" aria-label=\"Lista nieuporzdkowana\"></button>\n                            <select class=\"ql-align\">\n                                <option selected></option>\n                                <option value=\"center\"></option>\n                                <option value=\"right\"></option>\n                                <option value=\"justify\"></option>\n                            </select>\n                            <button class=\"ql-code-block\" aria-label=\"Insert Code Block\"></button>\n                        </span>\n                    </p-header>\n                </p-editor>\n                <div class=\"buttons-save\">\n                    <button *ngIf=\"!commentId\" pButton pRipple type=\"button\" (click)=\"newComment()\"\n                        pTooltip=\"Dodaj now uwag\" icon=\"pi pi-plus\" class=\"p-button-sm sb-button blue\"></button>\n\n                    <button *ngIf=\"commentId\" pButton pRipple type=\"button\" (click)=\"updateComment()\"\n                        pTooltip=\"Aktualizacja uwagi\" icon=\"pi pi-check\" class=\"p-button-sm sb-button blue\"></button>\n\n                    <button *ngIf=\"commentId\" pButton pRipple type=\"button\" (click)=\"exitUpdateComment()\"\n                        pTooltip=\"Anuluj\" icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DialogService, DynamicDialogConfig, DynamicDialogRef } from 'primeng/dynamicdialog';\nimport { KatalogProfili, KatalogSystem } from 'src/app/catalog/catalog-service/catalog.service';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { ProductionServiceService } from 'src/app/production/production-service/production-service.service';\nimport { OfferHelpers, SettingsService } from 'src/app/settings/settings.service';\nimport { GlobalService } from 'src/app/_services/global.service';\nimport { Offer, OffersService } from '../../offers.service';\n\n@Component({\n  selector: 'app-add-offer-position',\n  templateUrl: './add-offer-position.component.html',\n  styleUrls: ['./add-offer-position.component.scss']\n})\nexport class AddOfferPositionComponent implements OnInit {\n  catalogSugFiltered: any;\n  helper: OfferHelpers = {\n    exchangeRateAlu: null,\n    exchangeRatePcv: null,\n    defaultSetCost: null,\n    defaultClientSetUpCost: null,\n    defaultPrintTextHeader: null,\n    defaultPrintTextTableFotter: null,\n    defaultCostChangeColor: null\n  };\n  selectedSystem: KatalogSystem = null;\n  selectedCatalog: KatalogProfili = null;\n  allCatalog: KatalogProfili[];\n  filmSugFiltered: any;\n  sideSugFiltered: any;\n  formOfferPosition: FormGroup;\n  searchBy = ['number'];\n  sideSug = [\"zew\", \"wew\", \"jedno\", \"rodek\", \"obu\", \"obu-zew\", \"obu-wew\"];\n  offerData: Offer;\n  exchange: any;\n  loading = false;\n\n  constructor(\n    public productionService: ProductionServiceService,\n    public settingService: SettingsService,\n    public offerService: OffersService,\n    private cookieService: CookieService,\n    private infoPopup: InfoPopupComponent,\n    public ref: DynamicDialogRef,\n    public config: DynamicDialogConfig\n  ) {\n    this.offerData = config.data;\n  }\n\n  ngOnInit(): void {\n    if (!this.cookieService.check('creatorSelectedSystemOffer')) {\n      this.cookieService.set('creatorSelectedSystemOffer', JSON.stringify(this.selectedSystem))\n    } else {\n      this.selectedSystem = JSON.parse(this.cookieService.get('creatorSelectedSystemOffer'));\n    }\n    this.filterBySystem();\n\n    this.settingService.getHelpers().subscribe({\n      next: (res) => {\n        this.helper = res[0];\n        this.changeAlu(false);\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n\n    this.formOfferPosition = new FormGroup({\n      profilType: new FormControl('', { validators: [Validators.required] }),\n      profilNumber: new FormControl('', { validators: [Validators.required] }),\n      alu: new FormControl(false),\n      catalogIdHelper: new FormControl(''),\n      warranty: new FormControl(true),\n      offerPositionSides: new FormArray([\n        new FormGroup({\n          side: new FormControl(''),\n          filmNumber: new FormControl(null),\n          filmWidth: new FormControl(null, { validators: [Validators.required, Validators.nullValidator] }),\n          filmEntrusted: new FormControl(false),\n          quantityMb: new FormControl(6.5, { validators: [Validators.required, Validators.nullValidator] }),\n          hard: new FormControl(false),\n          changeColor: new FormControl(false),\n          bicolor: new FormControl(null),\n          costChangeColor: new FormControl(null),\n          exchangeRate: new FormControl(null, { validators: [Validators.required, Validators.nullValidator] }),\n          additional: new FormControl(this.offerData.client.helper_additional, { validators: [Validators.required, Validators.nullValidator] }),\n          cost: new FormControl(this.offerData.client.helper_cost, { validators: [Validators.required, Validators.nullValidator] }),\n          mIs: new FormControl(null, { validators: [Validators.required, Validators.nullValidator] }),\n        })\n      ])\n    });\n    // this.offerService.getExchangeHelper().subscribe({\n    //   next: (res) => {\n    //     this.exchange = res[0];\n    //     this.formOfferPosition.controls.offerPositionSides['controls'][0]['controls'].exchangeRate.setValue(this.exchange.exchangeRate);\n    //   }\n    // });\n    this.calculateSides();\n  }\n\n  filterBySystem() {\n    this.allCatalog = [];\n    if (this.selectedSystem != null) {\n      for (let i = 0; i < this.productionService.catalogSuggestions.length; i++) {\n        let cat = this.productionService.catalogSuggestions[i];\n        if (cat.systemProfil.name != null) {\n          if (cat.systemProfil.id === (this.selectedSystem.id)) {\n            this.allCatalog.push(cat);\n          }\n        }\n      }\n      this.cookieService.set('creatorSelectedSystemOffer', JSON.stringify(this.selectedSystem));\n    } else {\n      this.allCatalog = this.productionService.catalogSuggestions;\n    }\n  }\n\n  searchCatalog(event) {\n    this.catalogSugFiltered = [];\n    if (event.query != \"\") {\n      console.log(\"loading\");\n      for (let i = 0; i < this.allCatalog.length; i++) {\n        let cat = this.allCatalog[i];\n        if (cat.number != null && this.searchBy.includes(\"number\")) {\n          if (cat.number.toLowerCase().includes(event.query.toLowerCase())) {\n            this.catalogSugFiltered.push(cat);\n          }\n        }\n        if (cat.profileType != null && this.searchBy.includes(\"name\")) {\n          if (cat.profileType.toLowerCase().includes(event.query.toLowerCase())) {\n            this.catalogSugFiltered.push(cat);\n          }\n        }\n      }\n    } else {\n      this.allCatalog.forEach(x => this.catalogSugFiltered.push(x));\n    }\n  }\n\n  searchFilm(event) {\n    this.filmSugFiltered = [];\n    for (let i = 0; i < this.productionService.filmSuggestions.length; i++) {\n      let film = this.productionService.filmSuggestions[i];\n      if (film.number.toLowerCase().includes(event.query.toLowerCase()) || film.name.toLowerCase().includes(event.query.toLowerCase())) {\n        this.filmSugFiltered.push(film);\n      }\n    }\n  }\n\n  searchSide(event) {\n    this.sideSugFiltered = [];\n    for (let i = 0; i < this.sideSug.length; i++) {\n      let side = this.sideSug[i];\n      if (side.toLowerCase().indexOf(event.query.toLowerCase()) == 0) {\n        this.sideSugFiltered.push(side);\n      }\n    }\n  }\n\n  exit(id) {\n    this.ref.close(id);\n  }\n\n\n  get sides(): FormArray {\n    return this.formOfferPosition.get(\"offerPositionSides\") as FormArray\n  }\n\n  addSide() {\n    const group = new FormGroup({\n      side: new FormControl(''),\n      filmNumber: new FormControl(null),\n      filmWidth: new FormControl(null, { validators: [Validators.required, Validators.nullValidator] }),\n      filmEntrusted: new FormControl(false),\n      quantityMb: new FormControl(6.5, { validators: [Validators.required, Validators.nullValidator] }),\n      hard: new FormControl(false),\n      changeColor: new FormControl(false),\n      bicolor: new FormControl(null),\n      costChangeColor: new FormControl(null),\n      exchangeRate: new FormControl(null, { validators: [Validators.required, Validators.nullValidator] }),\n      additional: new FormControl(this.offerData.client.helper_additional, { validators: [Validators.required, Validators.nullValidator] }),\n      cost: new FormControl(this.offerData.client.helper_cost, { validators: [Validators.required, Validators.nullValidator] }),\n      mIs: new FormControl(null, { validators: [Validators.required, Validators.nullValidator] }),\n    });\n    this.sides.push(group);\n    this.calculateSides();\n    this.changeAlu(this.formOfferPosition.get('alu').value);\n  }\n\n  duplicateLastSide() {\n    let tmp = this.sides.at(this.sides.length - 1);\n    this.addSide();\n    this.sides.at(this.sides.length - 1).patchValue(tmp.value);\n  }\n\n  removeSide(i: number) {\n    this.sides.removeAt(i);\n  }\n\n  onSelectFilm(event, i) {\n    this.sides.controls[i].get('filmNumber').setValue(event.number);\n    this.sides.controls[i].get('bicolor').setValue(event.surchargePercentage);\n  }\n\n  onSelectSide(e, index) {\n    if (this.selectedCatalog != null) {\n      let res = \"\";\n      switch (e) {\n        case \"jedno\":\n          res = this.selectedCatalog.dimOneSide;\n          break;\n        case \"rodek\":\n          res = this.selectedCatalog.dimCenterSide;\n          break;\n        case \"obu\":\n          res = this.selectedCatalog.dimTwoSide;\n          break;\n        case \"obu-zew\":\n          res = this.selectedCatalog.dimTwoSideOuter;\n          break;\n        case \"obu-wew\":\n          res = this.selectedCatalog.dimTwoSideInner;\n          break;\n        case \"zew\":\n          res = this.selectedCatalog.dimOuter;\n          break;\n        case \"wew\":\n          res = this.selectedCatalog.dimInner;\n          break;\n      }\n      this.sides.controls[index].get('hard').setValue(this.selectedCatalog.hard);\n      this.sides.controls[index].get('filmWidth').setValue(res);\n    }\n  }\n\n  onSelectCatalog(event: KatalogProfili) {\n    this.selectedCatalog = event;\n    this.formOfferPosition.get(\"profilNumber\").setValue(event.number);\n    this.formOfferPosition.get(\"profilType\").setValue(event.offerName);\n    this.formOfferPosition.get(\"alu\").setValue(event.alu);\n    this.formOfferPosition.get(\"catalogIdHelper\").setValue(event.id);\n    if (!this.selectedSystem) {\n      this.selectedSystem = event.systemProfil;\n      this.filterBySystem();\n    }\n    this.sides.controls.forEach((x, index) => {\n      let e = x.get('side').value;\n      let res = \"\";\n      switch (e) {\n        case \"jedno\":\n          res = this.selectedCatalog.dimOneSide;\n          break;\n        case \"rodek\":\n          res = this.selectedCatalog.dimCenterSide;\n          break;\n        case \"obu\":\n          res = this.selectedCatalog.dimTwoSide;\n          break;\n        case \"obu-zew\":\n          res = this.selectedCatalog.dimTwoSideOuter;\n          break;\n        case \"obu-wew\":\n          res = this.selectedCatalog.dimTwoSideInner;\n          break;\n        case \"zew\":\n          res = this.selectedCatalog.dimOuter;\n          break;\n        case \"wew\":\n          res = this.selectedCatalog.dimInner;\n          break;\n      }\n      this.sides.controls[index].get('hard').setValue(this.selectedCatalog.hard);\n      this.sides.controls[index].get('filmWidth').setValue(res);\n    });\n  }\n  calculateSides() {\n    for (let index = 0; index < this.sides.length; index++) {\n      this.changeHard(index);\n    }\n  }\n\n  changeHard(i) {\n    let event = this.sides.controls[i]['controls']['quantityMb'].value;\n    this.loadM(event, i);\n  }\n\n  changeAlu(event) {\n    if (event) {\n      this.sides.controls.forEach(x => {\n        x['controls']['exchangeRate'].setValue(this.helper.exchangeRateAlu);\n      })\n    } else {\n      this.sides.controls.forEach(x => {\n        x['controls']['exchangeRate'].setValue(this.helper.exchangeRatePcv);\n      })\n    }\n  }\n\n  changeColorChange(event, i) {\n    if (event) {\n      this.sides.controls[i]['controls']['costChangeColor'].setValue(this.offerData.client.helper_costChangeColor);\n    } else {\n      this.sides.controls[i]['controls']['costChangeColor'].setValue(null);\n    }\n  }\n\n  loadM(event, i) {\n    let tmpHard = this.sides.controls[i]['controls']['hard'].value;\n    if (event <= 50) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardTo50);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyTo50);\n      }\n    } else if (event > 50 && event <= 150) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardTo150);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyTo150);\n      }\n    } else if (event > 150 && event <= 500) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardTo500);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyTo500);\n      }\n    } else if (event > 500) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardAbove500);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyAbove500);\n      }\n    }\n\n  }\n\n  addOfferPosition() {\n    this.loading = true;\n    this.offerService.addNewOfferPosition(this.offerData.offerNumber, this.formOfferPosition.value).subscribe({\n      next: (res) => {\n        this.infoPopup.showSuccessAdd(\"pozycja\");\n        this.loading = false;\n        this.exit(1);\n      },\n      error: (err) => {\n        this.infoPopup.showErrorAdd(\"pozycja\");\n        this.loading = false;\n        console.log(err);\n      }\n    })\n  }\n\n}\n","<div class=\"sb-dialog-content\" style=\"width: 1000px; min-width: 1000px;\">\n    <form [formGroup]=\"formOfferPosition\" class=\"sb-form\">\n\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n\n                        <label class=\"sb-small-label\" for=\"systemId\">Wybr systemu</label>\n                        <p-dropdown [options]=\"productionService.allSystems\" (onChange)=\"filterBySystem()\"\n                            styleClass=\"fullwidth\" appendTo=\"body\" [(ngModel)]=\"selectedSystem\" [ngModelOptions]=\"{standalone: true}\"\n                            placeholder=\"Wybierz system\" optionLabel=\"name\" [showClear]=\"true\" filter=\"true\">\n                        </p-dropdown>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n                        <p-radioButton class=\"p-2\" name=\"groupSearch\" value=\"number\" label=\"Numer\"\n                            [(ngModel)]=\"searchBy\" [ngModelOptions]=\"{standalone: true}\"></p-radioButton>\n                        <p-radioButton class=\"p-2\" name=\"groupSearch\" value=\"name\" label=\"Nazwa\" [(ngModel)]=\"searchBy\" [ngModelOptions]=\"{standalone: true}\">\n                        </p-radioButton>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n\n                        <label class=\"sb-small-label\" for=\"profilNumberId\">Numer ksztatownika *</label>\n                        <p-autoComplete [inputStyle]=\"{'font-weight':'bold'}\" autocomplete=\"off\" appendTo=\"body\"\n                            styleClass=\"fullwidth\" [formControl]=\"formOfferPosition.get('profilNumber')\"\n                            [suggestions]=\"catalogSugFiltered\" (completeMethod)=\"searchCatalog($event)\"\n                            [dropdown]=\"true\" emptyMessage=\"Nie znaleziono\" (onSelect)=\"onSelectCatalog($event)\">\n                            <ng-template let-catalog pTemplate=\"item\">\n\n                                <div [class]=\"'measure-badge status-' + catalog.actualMeasurement + ' catalog-dropdown'\">\n                                    \n                                    <div class=\"row\">\n                                        <div class=\"col\">\n                                            <div style=\"font-size:16px;\">\n                                                <i style=\"color:red;font-size: 1em;padding-right: 2px;\" *ngIf=\"catalog.hard\" class=\"pi pi-exclamation-triangle\"></i>\n                                                {{catalog.number}}\n                                            </div>\n                                            <div style=\"font-size:12px;\">{{catalog.profileType}}</div>\n                                            <div style=\"font-size:12px;\">{{catalog.systemProfil.name}}</div>\n                                        </div>\n                                        <div class=\"col\">\n                                            <div style=\"font-size:12px;\">ZEW: <b>{{catalog.dimOuter}}</b></div>\n                                            <div style=\"font-size:12px;\">WEW: <b>{{catalog.dimInner}}</b></div>\n                                            <div style=\"font-size:12px;\">JEDN: <b>{{catalog.dimOneSide}}</b>\n                                            </div>\n                                            <div style=\"font-size:12px;\">RO: <b>{{catalog.dimCenterSide}}</b>\n                                            </div>\n                                        </div>\n                                        <div class=\"col\">\n                                            <div style=\"font-size:12px;\">OBU: <b>{{catalog.dimTwoSide}}</b>\n                                            </div>\n                                            <div style=\"font-size:12px;\">OBU ZEW:\n                                                <b>{{catalog.dimTwoSideOuter}}</b>\n                                            </div>\n                                            <div style=\"font-size:12px;\">OBU WEW:\n                                                <b>{{catalog.dimTwoSideInner}}</b>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                            </ng-template>\n                        </p-autoComplete>\n                        <p class=\"invalid-feedback\"\n                            *ngIf=\"formOfferPosition.get('profilNumber').hasError('required') && formOfferPosition.get('profilNumber').touched\">\n                            musi by wypenione\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n                        <label class=\"sb-small-label\" for=\"profilTypeId\">Rodzaj ksztatownika *</label>\n                        <input pInputText type=\"text\" autocomplete=\"off\" class=\"fullwidth\"\n                            [formControl]=\"formOfferPosition.get('profilType')\">\n                        <p class=\"invalid-feedback\"\n                            *ngIf=\"formOfferPosition.get('profilType').hasError('required') && formOfferPosition.get('profilType').touched\">\n                            musi by wypenione\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row pt-1\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12 d-flex align-items-center\">\n                        <p-checkbox [formControl]=\"formOfferPosition.get('alu')\" (ngModelChange)=\"changeAlu($event)\"\n                            [binary]=\"true\" label=\"Alu\">\n                        </p-checkbox>\n                    </div>\n                </div>\n                <div class=\"row pt-1\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12 d-flex align-items-center\">\n                        <p-checkbox [formControl]=\"formOfferPosition.get('warranty')\" [binary]=\"true\" label=\"Gwarancja\">\n                        </p-checkbox>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                <div class=\"row w-100 m-0\">\n\n                    <div class=\"col-g-12 col-md-12 col-lg-12 sb-stats-form\">\n                        <div class=\"row\">\n                            <div class=\"sb-stars-header\">Ustawienia klienta</div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead>\n                                            <th class=\"text-left\">Metry</th>\n                                            <th class=\"text-center\">atwe</th>\n                                            <th class=\"text-center\">Trudne</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td class=\"text-left\">0-50</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyTo50}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardTo50}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left\">51-150</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyTo150}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardTo150}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left\">151-500</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyTo500}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardTo500}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left\">pow. 500</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyAbove500}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardAbove500}}</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead>\n                                            <th></th>\n                                            <th class=\"text-center\">Kurs</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td>ALU</td>\n                                                <td class=\"text-center\">{{helper.exchangeRateAlu}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td>PCV</td>\n                                                <td class=\"text-center\">{{helper.exchangeRatePcv}}</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n                <div class=\"row w-100 m-0\">\n                    <div *ngIf=\"selectedCatalog != null\" class=\"col-g-12 col-md-12 col-lg-12 sb-stats-form mt-2\">\n\n                        <div class=\"row p-1\">\n\n                            <div class=\"sb-stars-header\">Wybrana pozycja</div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead class=\"sb-header-normal\">\n                                            <th class=\"text-left\">Numer</th>\n                                            <th class=\"text-left\">Nazwa</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td class=\"text-center\"><b>{{selectedCatalog.number}}</b></td>\n                                                <td class=\"text-center\"><b>{{selectedCatalog.offerName}}</b></td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <tbody>\n                                            <tr>\n                                                <td *ngIf=\"selectedCatalog.hard\" style=\"color:red; border: 0;\" class=\"text-center\">\n                                                    <i style=\"padding-right: 5px;\"\n                                                        class=\"pi pi-exclamation-triangle\"></i>\n                                                    <span>TRUDNE</span>\n                                                </td>\n                                                <td *ngIf=\"selectedCatalog.actualMeasurement\" style=\"color:green; border: 0;\"  class=\"text-center\">\n                                                    <i style=\"padding-right: 5px;\" class=\"pi pi-check-circle\"></i>\n                                                    <span>Wymiar zmierzony fizycznie</span>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"row p-1\">\n                            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead class=\"sb-header-normal\">\n                                            <th class=\"text-center\">ZEW</th>\n                                            <th class=\"text-center\">WEW</th>\n                                            <th class=\"text-center\">JEDN</th>\n                                            <th class=\"text-center\">ROD</th>\n                                            <th class=\"text-center\">OBU</th>\n                                            <th class=\"text-center\">OBU ZEW</th>\n                                            <th class=\"text-center\">OBU WEW</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimOuter ? selectedCatalog.dimOuter : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimInner ? selectedCatalog.dimInner : \"--\"}}</b>\n                                                </td>\n\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimOneSide ? selectedCatalog.dimOneSide : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimCenterSide ? selectedCatalog.dimCenterSide : \"--\"}}</b>\n                                                </td>\n\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimTwoSide ? selectedCatalog.dimTwoSide : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimTwoSideOuter ? selectedCatalog.dimTwoSideOuter : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimTwoSideInner ? selectedCatalog.dimTwoSideInner : \"--\"}}</b>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row mt-2\" *ngIf=\"selectedCatalog.comments\" style=\"border-top:1px solid #D5D5D5\">\n                            <div class=\"col-g-12 col-md-12 col-lg-12 p-0\" pTooltip=\"Uwagi\">\n                                <div class=\"sb-stars-header\" style=\"color:red; font-size: 10px;\">UWAGI:</div>\n                                <div class=\"pl-1\" [innerHtml]=\"selectedCatalog.comments\"></div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <hr>\n        <div class=\"row mb-2\">\n            <div class=\"col text-center\">\n                <span><b>STRONY</b></span>\n            </div>\n        </div>\n\n        <div formArrayName=\"offerPositionSides\">\n\n            <div class=\"row sb-position-side\" *ngFor=\"let item of sides.controls; index as i\" [formGroupName]=\"i\">\n\n                <div class=\"col-g-12 col-md-12 col-lg-6 p-0\">\n\n                    <div class=\"row flex-nowrap sb-row-position-side\">\n\n                        <div class=\"col-g-12 col-md-1 col-lg-1 sb-col-side count\">\n\n                            <button pButton pRipple type=\"button\" (click)=\"removeSide(i)\" style=\"height: 25px;\"\n                                pTooltip=\"Usu stron\" icon=\"pi pi-times\" class=\"p-button-sm sb-button red\"></button>\n\n                            <span class=\"text-center p-2\">{{i + 1}}</span>\n\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n\n                            <label class=\"sb-small-label \" for=\"side\">Str. kszta.</label>\n                            <p-autoComplete formControlName=\"side\" autocomplete=\"off\" [suggestions]=\"sideSugFiltered\"\n                                (completeMethod)=\"searchSide($event)\" [dropdown]=\"true\" autocomplete=\"off\"\n                                [completeOnFocus]=\"true\" appendTo=\"body\" (onSelect)=\"onSelectSide($event,i)\">\n                                <ng-template let-side pTemplate=\"item\">\n                                    <div class=\"catalog-dropdown-side\">\n                                        <div class=\"row\">\n                                            <div class=\"col\">{{side}}</div>\n                                        </div>\n                                    </div>\n                                </ng-template>\n                            </p-autoComplete>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-3 col-lg-3 sb-col-side\">\n\n                            <label class=\"sb-small-label\" for=\"filmNumber\">Numer Okleiny</label>\n                            <p-autoComplete formControlName=\"filmNumber\" [minLength]=\"1\" [suggestions]=\"filmSugFiltered\"\n                                (completeMethod)=\"searchFilm($event)\" [dropdown]=\"true\" autocomplete=\"off\"\n                                [completeOnFocus]=\"true\" appendTo=\"body\" (onSelect)=\"onSelectFilm($event,i)\">\n                                <ng-template let-film pTemplate=\"item\">\n                                    <div class=\"catalog-dropdown-film\">\n                                        <!-- <img src=\"{{film.imgLink}}\" style=\"width:32px;display:inline-block;margin:5px 0 2px 5px\"/> -->\n                                        <div class=\"row\">\n                                            <div class=\"col-6\">\n                                                <div style=\"font-size:16px;\">{{film.number}}</div>\n                                                <div style=\"font-size:12px;\"> {{film.name}}</div>\n                                            </div>\n                                            \n                                            <div class=\"col-6 pl-2 text-center\" [ngSwitch]=\"film.status\" style=\"font-size:12px;\">\n                                                <div *ngSwitchCase=\"'DOSTEPNA'\" class=\"status-dost\">DOST.</div>\n                                                <div *ngSwitchCase=\"'NIEDOSTEPNA'\" class=\"status-niedost\">NIEDOST.</div>\n                                                <div *ngSwitchCase=\"'DOSTEPNOSCOGRANICZONA'\" class=\"status-ogr\">OGRAN.</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ng-template>\n                            </p-autoComplete>\n                           \n                        </div>\n\n                        <div class=\"col-g-12 col-md-3 col-lg-3 sb-col-side\">\n\n                            <label class=\"sb-small-label\" for=\"filmWidthId\">Szer. Okl. *</label>\n                            <p-inputNumber formControlName=\"filmWidth\" inputId=\"filmWidthId\" suffix=\" mm\" [min]=\"0\"\n                                [step]=\"1\" [inputStyle]=\"{'font-weight':'bold'}\">\n                            </p-inputNumber>\n\n                        </div>\n\n                        <div class=\"col-g-12 col-md-3 col-lg-3 sb-col-side\">\n                            <label class=\"sb-small-label \" for=\"quantityMb\">Ilo Mb *</label>\n                            <p-inputNumber (onInput)=\"loadM($event.value,i)\" formControlName=\"quantityMb\"\n                                inputId=\"quantityMb\" mode=\"decimal\" [min]=\"0\" [step]=\"0.5\" [minFractionDigits]=\"1\">\n                            </p-inputNumber>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div class=\"col-g-12 col-md-12 col-lg-6 p-0\">\n\n                    <div class=\"row flex-nowrap sb-row-position-side justify-content-end\">\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"additional\">Dopata *</label>\n                            <p-inputNumber formControlName=\"additional\" mode=\"decimal\" [min]=\"0\" [step]=\"0.10\"\n                                [minFractionDigits]=\"2\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"cost\">Koszt *</label>\n                            <p-inputNumber formControlName=\"cost\" mode=\"decimal\" [min]=\"0\" [step]=\"0.01\"\n                                [minFractionDigits]=\"2\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"mIs\">Przelicznik *</label>\n                            <p-inputNumber formControlName=\"mIs\" mode=\"decimal\" [min]=\"0\" [step]=\"0.10\"\n                                [minFractionDigits]=\"2\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"bicolor\">Bicolor</label>\n                            <p-inputNumber formControlName=\"bicolor\" type=\"number\" [min]=\"0\" suffix=\"%\" [step]=\"1\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"costChangeColor\">Zm. koloru</label>\n                            <p-inputNumber formControlName=\"costChangeColor\" type=\"number\" [min]=\"0\" [step]=\"10\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"exchangeRate\">Kurs *</label>\n                            <p-inputNumber formControlName=\"exchangeRate\" type=\"number\" [min]=\"0\" [step]=\"0.10\">\n                            </p-inputNumber>\n                        </div>\n                    </div>\n\n                    <div class=\"row align-items-center w-100 m-0\">\n                        <div class=\"col-g-12 col-md-4 col-lg-4 sb-col-side\">\n                            <p-checkbox formControlName=\"hard\" (ngModelChange)=\"changeHard(i)\" [binary]=\"true\"\n                                label=\"Trudne\">\n                            </p-checkbox>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-4 col-lg-4 sb-col-side\">\n                            <p-checkbox formControlName=\"filmEntrusted\" [binary]=\"true\" label=\"Folia powierzona\">\n                            </p-checkbox>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-4 col-lg-4 sb-col-side\">\n                            <p-checkbox formControlName=\"changeColor\" (ngModelChange)=\"changeColorChange($event,i)\" [binary]=\"true\"\n                                label=\"Zm. koloru\">\n                            </p-checkbox>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-g-12 col-md-12 col-lg-12 d-flex justify-content-center\">\n                    <button pButton pRipple type=\"button\" (click)=\"addSide()\" pTooltip=\"Dodaj stron\" icon=\"pi pi-plus\"\n                        label=\"Dodaj stron\" class=\"p-button-sm sb-button blue m-1\"></button>\n\n                    <button [disabled]=\"sides.length == 0\" pButton pRipple type=\"button\" (click)=\"duplicateLastSide()\"\n                        pTooltip=\"Powielanie ostatniej pozycji\" icon=\"pi pi-angle-double-down\" label=\"Powiel stron\"\n                        class=\"p-button-sm sb-button blue m-1\"></button>\n                </div>\n            </div>\n\n        </div>\n\n    </form>\n</div>\n\n<div class=\"sb-dialog-footer\">\n    <div class=\"sb-btn-close\">\n        <button pButton pRipple type=\"button\" (click)=\"exit(0)\" pTooltip=\"Anulowanie dodawania\" label=\"Anuluj\"\n            icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\">\n        </button>\n    </div>\n    <div class=\"sb-btn-save\">\n        <button [disabled]=\"formOfferPosition.invalid || loading || sides.length == 0\" pButton pRipple type=\"button\"\n            (click)=\"addOfferPosition()\" pTooltip=\"Dodaj pozycj\" label=\"Zapisz\" icon=\"pi pi-check\"\n            class=\"p-button-sm sb-button green\">\n        </button>\n        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\" styleClass=\"custom-spinner\"\n            strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"></p-progressSpinner>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { OffersService } from '../offers.service';\n\n@Component({\n  selector: 'app-timeline-widget',\n  templateUrl: './timeline-widget.component.html',\n  styleUrls: ['./timeline-widget.component.scss']\n})\nexport class TimelineWidgetComponent implements OnInit {\n\n  @Input() offerNumber: string;\n  newNote = \"\";\n  @Input() offerNotes: any;\n  public now: Date = new Date();\n\n  constructor(\n    private offerService: OffersService,\n    private infoPopup: InfoPopupComponent\n  ) { \n    setInterval(() => {\n      this.now = new Date();\n    }, 1);\n  }\n\n  ngOnInit(): void {\n\n  }\n\n\n  getNotes() {\n    this.offerService.getOfferNotes(this.offerNumber).subscribe({\n      next: (res) => {\n        this.offerNotes = res;\n        this.offerNotes.sort((a, b) => {\n          if (a.createdDate > b.createdDate) {\n            return 1;\n          }\n          if (a.createdDate < b.createdDate) {\n            return -1;\n          }\n          return 0;\n        });\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n  }\n\n  addNewNote(offerNumber, newNote) {\n    this.offerService.addNewOfferNote(offerNumber, newNote).subscribe({\n      next: (res) => {\n        this.infoPopup.showSuccessAdd('notatk');\n        this.newNote = \"\";\n        this.getNotes();\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n  }\n\n  deleteNote(offerNumber, id) {\n    this.offerService.deleteOfferNote(offerNumber, id).subscribe({\n      next: (res) => {\n        this.infoPopup.showSuccessDelete('notatk');\n        this.getNotes();\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n  }\n\n}\n","<div class=\"sb-timeline-widget\">\n    <!-- <div class=\"timeline-line\"></div> -->\n    <ul class=\"sb-timeline\">\n        <li *ngFor=\"let item of offerNotes\">\n            <div class=\"date\">\n                <span>{{item.createdDate | date:'dd.MM.yyyy, HH:mm'}}</span>\n                <i class=\"pi pi-comment\" style=\"font-size: 2rem\"></i>\n            </div>\n            <div class=\"message\">\n                <div class=\"checked\" [innerHTML]=\"item.message\"></div>\n                <button pButton pRipple type=\"button\" (click)=\"deleteNote(offerNumber,item.id)\" pTooltip=\"Usu notatke\" icon=\"pi pi-trash\"\n                class=\"p-button-sm sb-button red\"></button>\n            </div>\n            <div class=\"break\"></div>\n            <div class=\"author\">{{item.createdBy}}</div>\n        </li>\n        <li>\n            <div class=\"date\">\n                <span>{{ now | date:'dd.MM.yyyy, HH:mm' }}</span>\n                <i class=\"pi pi-comment\" style=\"font-size: 2rem\"></i>\n            </div>\n            <div class=\"message\">\n            <!-- <div class=\"timeline-new\"> -->\n                <!-- <textarea rows=\"5\" cols=\"30\" pInputTextarea [(ngModel)]=\"newNote\"></textarea> -->\n\n                <p-editor [(ngModel)]=\"newNote\" [style]=\"{'height':'150px'}\">\n                    <p-header>\n                        <span class=\"ql-formats\">\n                            <button class=\"ql-bold\" aria-label=\"Pogrubienie\"></button>\n                            <button class=\"ql-italic\" aria-label=\"Kursywa\"></button>\n                            <button class=\"ql-underline\" aria-label=\"Podkrelenie\"></button>\n                            <button class=\"ql-list\" value=\"ordered\" aria-label=\"Lista uporzdkowana\"></button>\n                            <button class=\"ql-list\" value=\"bullet\" aria-label=\"Lista nieuporzdkowana\"></button>\n                            <select class=\"ql-align\">\n                                <option selected></option>\n                                <option value=\"center\"></option>\n                                <option value=\"right\"></option>\n                                <option value=\"justify\"></option>\n                            </select>\n                            <button class=\"ql-code-block\" aria-label=\"Insert Code Block\"></button>\n                        </span>\n                    </p-header>\n                </p-editor>\n\n                <button pButton pRipple type=\"button\" (click)=\"addNewNote(offerNumber,newNote)\"\n                    pTooltip=\"Nowa notatka\" icon=\"pi pi-plus\" class=\"p-button-sm sb-button blue\"></button>\n            </div>\n            <div class=\"break\"></div>\n            <div class=\"author\"></div>\n        </li>\n    </ul>\n    \n  \n    <!-- <div class=\"clearfix\"></div> -->\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DynamicDialogConfig, DynamicDialogRef } from 'primeng/dynamicdialog';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { Offer, OffersService } from '../../offers.service';\n\n@Component({\n  selector: 'app-update-client-helpers',\n  templateUrl: './update-client-helpers.component.html',\n  styleUrls: ['./update-client-helpers.component.scss']\n})\nexport class UpdateClientHelpersComponent implements OnInit {\n\n  formClientHelper:FormGroup;\n  offerData: Offer;\n  loading = false;\n\n  constructor(\n    private infoPopup: InfoPopupComponent,\n    public ref: DynamicDialogRef,\n    private offerService: OffersService,\n    public config: DynamicDialogConfig,\n  ) { \n    this.offerData = config.data;\n  }\n\n  ngOnInit(): void {\n    this.formClientHelper = new FormGroup({\n      helper_additional: new FormControl(''),\n      helper_cost: new FormControl(''),\n      helper_setUpCost: new FormControl(''),\n      helper_costChangeColor: new FormControl('')\n    });\n    this.formClientHelper.patchValue(this.offerData.client);\n  }\n\n  updateHelpers(){\n    this.loading = true;\n    this.offerService.updateClientHelpers(this.offerData.client.id,this.formClientHelper.value).subscribe({\n      next: (res) => {\n        this.infoPopup.showSuccessUpdate('parametry');\n        this.ref.close(1);\n      },\n      error:(err)=>{\n        this.infoPopup.showErrorUpdate('parametry');\n        console.log(err);\n      },\n      complete:()=>{\n        this.loading=false;\n      }\n    })\n  }\n\n  exit(id){\n    this.ref.close(id);\n  }\n\n}\n","<div class=\"sb-dialog-content\">\n    <form [formGroup]=\"formClientHelper\" class=\"sb-form\">\n\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                 <label class=\"sb-small-label\" for=\"additional\">Dopata</label>\n                <p-inputNumber inputId=\"additional\" mode=\"decimal\"\n                    [formControl]=\"formClientHelper.get('helper_additional')\" [showButtons]=\"true\" [step]=\"1\" min=\"0\">\n                </p-inputNumber>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                <label class=\"sb-small-label\" for=\"cost\">Koszt</label>\n                <p-inputNumber inputId=\"cost\" mode=\"decimal\"\n                    [formControl]=\"formClientHelper.get('helper_cost')\" [showButtons]=\"true\" [step]=\"0.01\" min=\"0\">\n                </p-inputNumber>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                <label class=\"sb-small-label\" for=\"set\">Ustawienie</label>\n                <p-inputNumber inputId=\"set\" mode=\"decimal\"\n                    [formControl]=\"formClientHelper.get('helper_setUpCost')\" [showButtons]=\"true\" [step]=\"1\" min=\"0\">\n                </p-inputNumber>\n            </div>\n        </div>\n       \n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                <label class=\"sb-small-label\" for=\"costChangeColor\">Zm. koloru</label>\n                <p-inputNumber inputId=\"costChangeColor\" mode=\"decimal\"\n                    [formControl]=\"formClientHelper.get('helper_costChangeColor')\" [showButtons]=\"true\" [step]=\"1\" min=\"0\">\n                </p-inputNumber>\n            </div>\n        </div>\n    </form>\n\n</div>\n\n<div class=\"sb-dialog-footer\">\n    <div class=\"sb-btn-close\">\n        <button pButton pRipple type=\"button\" (click)=\"exit(0)\" pTooltip=\"Anulowanie aktualizowania\" label=\"Anuluj\"\n            icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\">\n        </button>\n    </div>\n    <div class=\"sb-btn-save\">\n        <button [disabled]=\"loading\" pButton pRipple type=\"button\" (click)=\"updateHelpers()\" pTooltip=\"Aktualizuj\"\n            label=\"Zapisz\" icon=\"pi pi-check\" class=\"p-button-sm sb-button green\">\n        </button>\n        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\" styleClass=\"custom-spinner\"\n            strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"></p-progressSpinner>\n    </div>\n</div>","import { Component, Input, OnInit, SimpleChanges, ViewEncapsulation } from '@angular/core';\nimport { PrintOfferService } from 'src/app/print/print-offer.service';\nimport { Offer, OfferPosition, OffersService } from '../offers.service';\n\n@Component({\n  selector: 'app-view-offer',\n  templateUrl: './view-offer.component.html',\n  styleUrls: ['./view-offer.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ViewOfferComponent implements OnInit {\n\n  @Input() offer: Offer;\n  offerPositions: OfferPosition[];\n  offerId: string;\n  headerText = '';\n  footerInfo = '';\n  offerComments: any;\n  hideWarranty = true;\n  hideZM = true;\n\n  constructor(\n    private offerService: OffersService,\n    private printOfferService: PrintOfferService\n  ) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    for (let propName in changes) {\n      if (propName === 'offer') {\n        this.offer = changes[propName].currentValue\n        this.offerPositions = this.offer.offerPosition;\n        this.offerComments = this.offer.offerComments\n      }\n    }\n\n    if (this.checkIfWarranty(this.offerPositions)) {\n      this.hideWarranty = true;\n    } else {\n      this.hideWarranty = false;\n    };\n\n    if (this.checkIfZM(this.offerPositions)) {\n      this.hideZM = false;\n    } else {\n      this.hideZM = true;\n    };\n  }\n\n  ngOnInit(): void {\n    this.offerPositions = this.offer.offerPosition;\n    this.offerId = this.offer.offerNumber;\n    this.headerText = this.offer.printTextHeader;\n    this.footerInfo = this.offer.printTextTableFotter;\n    this.offerComments = this.offer.offerComments;\n  }\n\n  checkIfWarranty(positions: OfferPosition[]) {\n    let tmp = positions.find(x => x.warranty == false);\n    if (tmp) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  checkIfZM(positions: OfferPosition[]) {\n    let test = positions.find(x => {\n      let tmp = x.offerPositionSides.find(s => s.changeColor == true);\n      if (tmp) {\n        return true;\n      } else {\n        return false;\n      }\n    })\n\n    if (test) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n\n\n","<div id=\"print_offer_view\">\n\n    <div class=\"row header_top\">\n        <div class=\"col address\">\n            {{offer.myCompany.name}}<br>\n            {{'ul. ' + offer.myCompany.street + ' ' + offer.myCompany.houseNumber}}{{offer.myCompany.flatNumber ? '/' + offer.myCompany.flatNumber : ''}},\n            {{offer.myCompany.postalCode + ' ' + offer.myCompany.town}}<br>\n            {{offer.myCompany.email ? offer.myCompany.email + ', ' : '' }}{{offer.myCompany.www ? offer.myCompany.www : ''}}\n        </div>\n        <div class=\"col logo\">\n            <!-- {{offer.myCompany.logoLink}} -->\n            <div class=\"float-right\" *ngIf=\"offer.myCompany.logoLink\">\n                <img height=\"50px\" [src]=\"offer.myCompany.logoLink\" alt=\"\">\n            </div>\n            <p *ngIf=\"!offer.myCompany.logoLink\" class=\"float-right\">{{offer.myCompany.name}}</p>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col client_adress\">\n            {{offer.client.name}} <br>\n            {{'ul. ' + offer.client.street + ' ' + offer.client.houseNumber}}{{offer.client.flatNumber ? '/' + offer.client.flatNumber : ''}}<br>\n            {{offer.client.postalCode + ' ' + offer.client.town}}\n        </div>\n        <div class=\"col offer_date\">\n            <p>Krakw, dn. {{offer.offerDate | date:'dd.MM.yyyy'}} r.</p>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col text\" [innerHTML]=\"headerText\">\n\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"sb_table\">\n                <div [ngClass]=\"{'warranty_hide': hideWarranty}\" class=\"sb_header\">\n                    <div class=\"sb_item\">Nazwa i Numer ksztaownika</div>\n                    <div class=\"sb_item warranty_col\">Gwarancja</div>\n                    <div class=\"sb_side\">\n                        <div class=\"sb_item\">Strona okleinowania</div>\n                        <div class=\"sb_item\">Numer okleiny</div>\n                        <div class=\"sb_item\">Szeroko oklejanej powierzchni w mm</div>\n                        <div class=\"sb_item\">Cena PLN/mb</div>\n                        <div class=\"sb_item\">Ilo mb</div>\n                        <div class=\"sb_item\">Razem w PLN</div>\n                        <div [ngClass]=\"{'zm_hide': hideZM}\" class=\"sb_additional\">\n                            <div class=\"sb_item\">Dopaty PLN</div>\n                            <div class=\"sb_item\">U*</div>\n                            <div class=\"sb_item\">P*</div>\n                            <div class=\"sb_item zm_col\">ZM*</div>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]=\"{'warranty_hide': hideWarranty}\" class=\"sb_body\"\n                    *ngFor=\"let position of offerPositions\">\n                    <div class=\"sb_item\">{{position.profilType}}<br>{{position.profilNumber}}</div>\n                    <div class=\"sb_item warranty_col\">{{position.warranty ? \"\" : \"NIE\"}}</div>\n                    <div>\n                        <div class=\"sb_side\" *ngFor=\"let pozSide of position.offerPositionSides\">\n                            <div class=\"sb_item\">{{pozSide.side}}</div>\n                            <div class=\"sb_item\">{{pozSide.filmNumber}}</div>\n                            <div class=\"sb_item\">{{pozSide.filmWidth}}</div>\n                            <div class=\"sb_item\">{{pozSide.plnMb | number : '1.2-2'}}</div>\n                            <div class=\"sb_item\">{{pozSide.quantityMb}}</div>\n                            <div class=\"sb_item\">{{pozSide.togetherPay | number : '1.2-2'}}</div>\n                            <div [ngClass]=\"{'zm_hide': hideZM}\" class=\"sb_additional\">\n                                <div class=\"sb_item\">{{pozSide.costSetup | number : '1.2-2'}}</div>\n                                <div class=\"sb_item\">{{pozSide.costSet | number : '1.2-2'}}</div>\n                                <div class=\"sb_item zm_col\">{{pozSide.costChangeColor | number : '1.2-2'}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]=\"{'warranty_hide': hideWarranty}\" class=\"sb_body_sum\">\n                    <div></div>\n                    <div class=\"warranty_col\"></div>\n                    <div>\n                        <div class=\"sb_side\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div class=\"sb_item title\">Suma w PLN</div>\n                            <div class=\"sb_additional_sum1\">\n                                <div class=\"sb_item title\">Suma dopat w PLN</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]=\"{'warranty_hide': hideWarranty}\" class=\"sb_body_sum\">\n                    <div></div>\n                    <div class=\"warranty_col\"></div>\n                    <div>\n                        <div class=\"sb_side_sum\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div class=\"sb_item\">{{offer.sumAllPositionsPln | number : '1.2-2'}}</div>\n                            <div [ngClass]=\"{'zm_hide': hideZM}\" class=\"sb_additional\">\n                                <div class=\"sb_item\">{{offer.sumSetUpCost | number : '1.2-2'}}</div>\n                                <div class=\"sb_item\">{{offer.sumSetCost | number : '1.2-2'}}</div>\n                                <div class=\"sb_item zm_col\">{{offer.sumCostChangeColor | number : '1.2-2'}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]=\"{'warranty_hide': hideWarranty}\" class=\"sb_body_sum\">\n                    <div></div>\n                    <div class=\"warranty_col\"></div>\n                    <div>\n                        <div class=\"sb_side_sumAll\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div class=\"sb_item title\">Razem netto w PLN</div>\n                        </div>\n                    </div>\n                </div>\n                <div [ngClass]=\"{'warranty_hide': hideWarranty}\" class=\"sb_body_sum\">\n                    <div></div>\n                    <div class=\"warranty_col\"></div>\n                    <div>\n                        <div class=\"sb_side_sumAll\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div class=\"sb_item\">{{offer.sumAllNetto | number : '1.2-2'}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class=\"row\">\n        <div class=\"col tablefooter\" [innerHtml]=\"footerInfo\"></div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col comments\">\n            <ul>\n                <li *ngFor=\"let item of offerComments\">\n                    <span [innerHTML]=\"item.comment\"></span>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { SelectItem, SortEvent } from 'primeng/api';\nimport { DialogService } from 'primeng/dynamicdialog';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { GlobalService } from 'src/app/_services/global.service';\nimport { FormNewOfferComponent } from '../form/new-offer/form-new-offer.component';\nimport { OffersService, OfferStatus } from '../offers.service';\n\n@Component({\n  selector: 'app-main-offers',\n  templateUrl: './main-offers.component.html',\n  styleUrls: ['./main-offers.component.scss']\n})\nexport class MainOffersComponent implements OnInit {\n\n  offersCount = 0;\n  allOffers: any;\n  loadingTable=false;\n  optionsSort: SelectItem[] = [];\n\n  constructor(\n    public dialogService: DialogService,\n    public offerService: OffersService,\n    private infoPopup: InfoPopupComponent,\n    public globalService: GlobalService\n    ) { }\n\n  ngOnInit(): void {\n    this.optionsSort = [\n      { label: \"WSZYSTKIE\", value: '-1' },\n      { label: \"NOWE\", value: OfferStatus.NOWA },\n    ]\n    this.loadData();\n    this.offerService.getAllOrdersNew();\n  }\n\n  showDialogToAddOffer() {\n    const ref = this.dialogService.open(FormNewOfferComponent, {\n      header: 'Nowa Oferta',\n      styleClass: 'no-padding-dialog',\n      width: '500px',\n    });\n\n    ref.onClose.subscribe(result => {\n      console.log('The dialog add new offer was closed');\n    });\n  }\n\n  loadData() {\n    this.globalService.loadingGlobal = true;\n    this.loadingTable = true;\n    this.offerService.getCountOffers().subscribe({\n      next: (res) => {\n        this.offersCount = res;\n      },\n      error: (err) => {\n        this.offersCount= 0;\n        this.infoPopup.showErrorDownload(\"iloci zlece\");\n      },\n      complete: () => { }\n    });\n\n    this.offerService.getAllOffers().subscribe({\n      next: (res) => {\n        this.allOffers = [];\n        this.allOffers = res;\n        this.loadingTable = false;\n      },\n      error: (err) => {\n        this.infoPopup.showErrorDownload(\"ofert\");\n      },\n      complete: () => {\n        this.globalService.loadingGlobal = false;\n       }\n    });\n  }\n\n  loadByStatus(value) {\n    if (value != '-1') {\n      this.offerService.getAllOffersByStatus(value).subscribe({\n        next: (res) => {\n          this.allOffers = [];\n          this.allOffers = res;\n        },\n        error: (err) => {\n          this.infoPopup.showErrorDownload(\"ofert\");\n        },\n        complete: () => { }\n      })\n    } else {\n      this.loadData();\n    }\n  }\n\n  // SORT FUNCTION\n  customSort(event: SortEvent) {\n    event.data.sort((data1, data2) => {\n      let value1 = data1[event.field];\n      let value2 = data2[event.field];\n      let result = null;\n      let result2 = null;\n      if (value1 == null && value2 != null)\n        result = -1;\n      else if (value1 != null && value2 == null)\n        result = 1;\n      else if (value1 == null && value2 == null)\n        result = 0;\n      else if (typeof value1 === 'string' && typeof value2 === 'string' && event.field != \"offerNumber\")\n        result = value1.localeCompare(value2);\n      else if (event.field == \"offerNumber\") {\n        if (Math.abs(value1.substring(value1.length - 4)) < Math.abs(value2.substring(value2.length - 4))) return (event.order * -1);\n        if (Math.abs(value1.substring(value1.length - 4)) > Math.abs(value2.substring(value2.length - 4))) return (event.order * 1);\n        if (Math.abs(value1.substring(0, value1.length - 4)) < Math.abs(value2.substring(0, value2.length - 4))) return (event.order * -1);\n        if (Math.abs(value1.substring(0, value1.length - 4)) > Math.abs(value2.substring(0, value2.length - 4))) return (event.order * 1);\n      }\n      else\n        result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\n      return (event.order * result);\n    });\n  }\n\n\n}\n","<div class=\"row\">\n\n    <div class=\"col-lg-3 col-md-6 col-sm-6 p-0\">\n        <div class=\"card-stats\">\n            <div class=\"card-content\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-5\">\n                            <div class=\"big-icon\">\n                                <i class=\"pi pi-ticket\"></i>\n                            </div>\n                        </div>\n                        <div class=\"col-7 pr-0\">\n                            <div class=\"numbers\">\n                                <p class=\"card-category\">Oferty</p>\n                                <p class=\"card-title\">{{offersCount}}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"card-footer\">\n                    <div class=\"stats-bar\">\n                        <div class=\"small-icon\">\n                            <i class=\"pi pi-chart-bar\"></i>\n                        </div>\n                        <div class=\"stats-bar-button\">\n                            <button pButton pRipple type=\"button\" (click)=\"showDialogToAddOffer()\"\n                                pTooltip=\"Dodanie nowej pozycji\" icon=\"pi pi-plus\"\n                                class=\"p-button-sm sb-button blue\"></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n\n\n<p-tabView>\n    <p-tabPanel header=\"Nowe\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <p-table #ofn styleClass=\"p-datatable-striped\" [value]=\"offerService.allOffersNew\" dataKey=\"id\"\n                    [paginator]=\"true\" [rows]=\"10\" [resizableColumns]=\"true\" [rowsPerPageOptions]=\"[10,20,50]\"\n                    [showCurrentPageReport]=\"true\" [loading]=\"loadingTable\"\n                    currentPageReportTemplate=\"{first} do {last} z {totalRecords}\" (sortFunction)=\"customSort($event)\"\n                    [customSort]=\"true\" sortField=\"offerNumber\" sortOrder=\"-1\" [rowHover]=\"true\">\n                    <ng-template pTemplate=\"caption\">\n                        <div class=\"row\">\n                            <div class=\"col\">\n                                <span>Oferty</span></div>\n                        </div>\n                    </ng-template>\n                    <ng-template pTemplate=\"header\">\n                        <tr class=\"pm-head\">\n                            <th pSortableColumn=\"offerNumber\">Numer Oferty<p-sortIcon field=\"offerNumber\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"client.name\">Klient<p-sortIcon field=\"client.name\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"offerDate\">Data Oferty<p-sortIcon field=\"offerDate\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"myCompany.name\">Firma<p-sortIcon field=\"myCompany.name\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"offerStatus\">Status<p-sortIcon field=\"offerStatus\">\n                                </p-sortIcon>\n                            </th>\n                        </tr>\n                        <tr>\n                            <th>\n                                <input pInputText type=\"text\"\n                                    (input)=\"of.filter($event.target.value, 'offerNumber', 'startsWith')\"\n                                    placeholder=\"Szukaj po numerze oferty\" class=\"p-inputtext-sm w-100\">\n                            </th>\n                            <th>\n                                <input pInputText type=\"text\"\n                                    (input)=\"of.filter($event.target.value, 'client.name', 'startsWith')\"\n                                    placeholder=\"Szukaj po nazwie klienta\" class=\"p-inputtext-sm w-100\">\n                            </th>\n                            <th>\n                            </th>\n                            <th>\n                            </th>\n                            <th>\n                            </th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData let-ri=\"rowIndex\">\n                        <tr class=\"pm-body\">\n                            <td><a routerLink=\"oferta/{{rowData.offerNumber}}\" (click)=\"globalService.loadingGlobal = true\">{{rowData.offerNumber}}</a></td>\n                            <td>{{rowData.client.name}}</td>\n                            <td>{{rowData.myCompany.name}}</td>\n                            <td>{{rowData.offerDate}}</td>\n                            <td>{{rowData.statusOrder}}</td>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"emptymessage\">\n                        <tr>\n                            <td colspan=\"5\" style=\"text-align:left\">Brak danych.</td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n            </div>\n        </div>\n    </p-tabPanel>\n\n    <p-tabPanel header=\"Wszystkie\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <p-table #of styleClass=\"p-datatable-striped\" [value]=\"allOffers\" dataKey=\"id\" [paginator]=\"true\"\n                    [rowsPerPageOptions]=\"[10,20,50]\" [rows]=\"10\" [resizableColumns]=\"true\" sortField=\"offerNumber\"\n                    sortOrder=\"-1\" [showCurrentPageReport]=\"true\"\n                    currentPageReportTemplate=\"{first} do {last} z {totalRecords}\" (sortFunction)=\"customSort($event)\"\n                    [customSort]=\"true\" [rowHover]=\"true\">\n                    <ng-template pTemplate=\"caption\">\n                        <div class=\"row\">\n                            <div class=\"col\">\n                                <span>Oferty</span></div>\n                            <div class=\"col\" style=\"text-align: end;\">\n                                <p-dropdown #of placeholder=\"Wybierz Status\"\n                                    (onChange)=\"loadByStatus(of.selectedOption.value)\" [options]=\"optionsSort\"\n                                    [filter]=\"true\" filterBy=\"name,value\" class=\"\">\n                                </p-dropdown>\n                            </div>\n                        </div>\n                    </ng-template>\n                    <ng-template pTemplate=\"header\">\n                        <tr class=\"pm-head\">\n                            <th pSortableColumn=\"offerNumber\">Numer Oferty<p-sortIcon field=\"offerNumber\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"client.name\">Klient<p-sortIcon field=\"client.name\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"offerDate\">Data Oferty<p-sortIcon field=\"offerDate\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"myCompany.name\">Firma<p-sortIcon field=\"myCompany.name\">\n                                </p-sortIcon>\n                            </th>\n                            <th pSortableColumn=\"offerStatus\">Status<p-sortIcon field=\"offerStatus\">\n                                </p-sortIcon>\n                            </th>\n                        </tr>\n                        <tr>\n                            <th>\n                                <input pInputText type=\"text\"\n                                    (input)=\"of.filter($event.target.value, 'offerNumber', 'startsWith')\"\n                                    placeholder=\"Szukaj po numerze oferty\" class=\"p-inputtext-sm w-100\">\n                            </th>\n                            <th>\n                                <input pInputText type=\"text\"\n                                    (input)=\"of.filter($event.target.value, 'client.name', 'startsWith')\"\n                                    placeholder=\"Szukaj po nazwie klienta\" class=\"p-inputtext-sm w-100\">\n                            </th>\n                            <th>\n                            </th>\n                            <th>\n                            </th>\n                            <th>\n                            </th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData let-ri=\"rowIndex\">\n                        <tr class=\"pm-body\">\n                            <td><a routerLink=\"oferta/{{rowData.offerNumber}}\">{{rowData.offerNumber}}</a></td>\n                            <td>{{rowData.client.name}}</td>\n                            <td>{{rowData.myCompany.name}}</td>\n                            <td>{{rowData.offerDate}}</td>\n                            <td>{{rowData.statusOrder}}</td>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"emptymessage\">\n                        <tr>\n                            <td colspan=\"5\" style=\"text-align:left\">Brak danych.</td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n            </div>\n        </div>\n    </p-tabPanel>\n\n\n</p-tabView>","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormArray } from '@angular/forms';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DynamicDialogRef, DynamicDialogConfig } from 'primeng/dynamicdialog';\nimport { KatalogSystem, KatalogProfili } from 'src/app/catalog/catalog-service/catalog.service';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { ProductionServiceService } from 'src/app/production/production-service/production-service.service';\nimport { OfferHelpers, SettingsService } from 'src/app/settings/settings.service';\nimport { Offer, OfferPosition, OffersService } from '../../offers.service';\n\n@Component({\n  selector: 'app-update-offer-position',\n  templateUrl: './update-offer-position.component.html',\n  styleUrls: ['./update-offer-position.component.scss']\n})\nexport class UpdateOfferPositionComponent implements OnInit {\n  helper: OfferHelpers = {\n    exchangeRateAlu: null,\n    exchangeRatePcv: null,\n    defaultSetCost: null,\n    defaultClientSetUpCost: null,\n    defaultPrintTextHeader: null,\n    defaultPrintTextTableFotter: null,\n    defaultCostChangeColor: null\n  };\n  catalogSugFiltered: any;\n  selectedSystem: KatalogSystem = null;\n  selectedCatalog: KatalogProfili = null;\n  allCatalog: KatalogProfili[];\n  filmSugFiltered: any;\n  sideSugFiltered: any;\n  formOfferPosition: FormGroup;\n  searchBy = ['number'];\n  sideSug = [\"zew\", \"wew\", \"jedno\", \"rodek\", \"obu\", \"obu-zew\", \"obu-wew\"];\n  offerData: Offer;\n  offerPosition: OfferPosition;\n  exchange: any;\n  loading = false;\n\n  constructor(\n    public productionService: ProductionServiceService,\n    public settingService: SettingsService,\n    public offerService: OffersService,\n    private cookieService: CookieService,\n    private infoPopup: InfoPopupComponent,\n    public ref: DynamicDialogRef,\n    public config: DynamicDialogConfig\n  ) {\n    this.offerData = config.data[0];\n    this.offerPosition = config.data[1];\n  }\n\n  ngOnInit(): void {\n    console.log(this.offerPosition);\n\n    // if (!this.cookieService.check('creatorSelectedSystemOffer')) {\n    //   this.cookieService.set('creatorSelectedSystemOffer', JSON.stringify(this.selectedSystem))\n    // } else {\n    //   this.selectedSystem = JSON.parse(this.cookieService.get('creatorSelectedSystemOffer'));\n    // }\n    //catalogIdHelper\n    this.findSystem(this.offerPosition.catalogIdHelper);\n\n    this.filterBySystem();\n\n    this.settingService.getHelpers().subscribe({\n      next: (res) => {\n        this.helper = res[0];\n        this.changeAlu(false);\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n\n    this.formOfferPosition = new FormGroup({\n      id: new FormControl(''),\n      profilType: new FormControl('', { validators: [Validators.required] }),\n      profilNumber: new FormControl('', { validators: [Validators.required] }),\n      alu: new FormControl(null),\n      catalogIdHelper: new FormControl(''),\n      warranty: new FormControl(null),\n      offerPositionSides: new FormArray([\n        new FormGroup({\n          id: new FormControl(''),\n          side: new FormControl(''),\n          filmNumber: new FormControl(''),\n          filmWidth: new FormControl('', { validators: [Validators.required,Validators.nullValidator] }),\n          filmEntrusted: new FormControl(''),\n          quantityMb: new FormControl('', { validators: [Validators.required,Validators.nullValidator] }),\n          hard: new FormControl(''),\n          changeColor: new FormControl(false),\n          exchangeRate: new FormControl(''),\n          bicolor: new FormControl(''),\n          costChangeColor: new FormControl(''),\n          additional: new FormControl('', { validators: [Validators.required,Validators.nullValidator] }),\n          cost: new FormControl('', { validators: [Validators.required,Validators.nullValidator] }),\n          mIs: new FormControl('', { validators: [Validators.required,Validators.nullValidator] }),\n        })\n      ])\n    });\n    // this.offerService.getExchangeHelper().subscribe({\n    //   next: (res) => {\n    //     this.exchange = res[0];\n    //     this.formOfferPosition.controls.offerPositionSides['controls'][0]['controls'].exchangeRate.setValue(this.exchange.exchangeRate);\n    //   }\n    // });\n    for (let index = 1; index < this.offerPosition.offerPositionSides.length; index++) {\n      this.addSide();\n    }\n    this.formOfferPosition.patchValue(this.offerPosition);\n    this.calculateSides();\n  }\n\n  findSystem(id) {\n    if (id != null && id != '') {\n      let cat = this.productionService.catalogSuggestions.find(x => x.id == id);\n      this.selectedSystem = cat.systemProfil;\n      this.selectedCatalog = cat;\n    }\n  }\n\n  filterBySystem() {\n    this.allCatalog = [];\n    if (this.selectedSystem != null) {\n      for (let i = 0; i < this.productionService.catalogSuggestions.length; i++) {\n        let cat = this.productionService.catalogSuggestions[i];\n        if (cat.systemProfil.name != null) {\n          if (cat.systemProfil.id === (this.selectedSystem.id)) {\n            this.allCatalog.push(cat);\n          }\n        }\n      }\n      this.cookieService.set('creatorSelectedSystemOffer', JSON.stringify(this.selectedSystem));\n    } else {\n      this.allCatalog = this.productionService.catalogSuggestions;\n    }\n  }\n\n  searchCatalog(event) {\n    this.catalogSugFiltered = [];\n    if (event.query != \"\") {\n      console.log(\"loading\");\n      for (let i = 0; i < this.allCatalog.length; i++) {\n        let cat = this.allCatalog[i];\n        if (cat.number != null && this.searchBy.includes(\"number\")) {\n          if (cat.number.toLowerCase().includes(event.query.toLowerCase())) {\n            this.catalogSugFiltered.push(cat);\n          }\n        }\n        if (cat.profileType != null && this.searchBy.includes(\"name\")) {\n          if (cat.profileType.toLowerCase().includes(event.query.toLowerCase())) {\n            this.catalogSugFiltered.push(cat);\n          }\n        }\n      }\n    } else {\n      this.allCatalog.forEach(x => this.catalogSugFiltered.push(x));\n    }\n  }\n\n  duplicateLastSide(){\n    let tmp = this.sides.at(this.sides.length-1);\n    tmp.get('id').patchValue(null);\n    this.addSide();\n    this.sides.at(this.sides.length-1).patchValue(tmp.value);\n    console.log(tmp)\n  }\n\n\n  searchFilm(event) {\n    this.filmSugFiltered = [];\n    for (let i = 0; i < this.productionService.filmSuggestions.length; i++) {\n      let film = this.productionService.filmSuggestions[i];\n      if (film.number.toLowerCase().includes(event.query.toLowerCase()) || film.name.toLowerCase().includes(event.query.toLowerCase())) {\n        this.filmSugFiltered.push(film);\n      }\n    }\n  }\n\n  searchSide(event) {\n    this.sideSugFiltered = [];\n    for (let i = 0; i < this.sideSug.length; i++) {\n      let side = this.sideSug[i];\n      if (side.toLowerCase().indexOf(event.query.toLowerCase()) == 0) {\n        this.sideSugFiltered.push(side);\n      }\n    }\n  }\n\n\n  exit(id) {\n    this.ref.close(id);\n  }\n\n  get sides(): FormArray {\n    return this.formOfferPosition.get(\"offerPositionSides\") as FormArray\n  }\n\n  addSide() {\n    const group = new FormGroup({\n      id: new FormControl(''),\n      side: new FormControl(''),\n      filmNumber: new FormControl(null),\n      filmWidth: new FormControl('', { validators: [Validators.required,Validators.nullValidator] }),\n      filmEntrusted: new FormControl(false),\n      quantityMb: new FormControl(6.5, { validators: [Validators.required,Validators.nullValidator] }),\n      hard: new FormControl(false),\n      changeColor: new FormControl(false),\n      bicolor: new FormControl(null),\n      costChangeColor: new FormControl(null),\n      exchangeRate: new FormControl(null, { validators: [Validators.required,Validators.nullValidator] }),\n      additional: new FormControl(this.offerData.client.helper_additional, { validators: [Validators.required,Validators.nullValidator] }),\n      cost: new FormControl(this.offerData.client.helper_cost, { validators: [Validators.required,Validators.nullValidator] }),\n      mIs: new FormControl(null, { validators: [Validators.required,Validators.nullValidator] }),\n    });\n    this.sides.push(group);\n    this.changeHard(this.sides.length-1);\n    if (this.formOfferPosition.get('alu').value) {\n      this.sides.controls[this.sides.length-1]['controls']['exchangeRate'].setValue(this.helper.exchangeRateAlu);\n    } else {\n      this.sides.controls[this.sides.length-1]['controls']['exchangeRate'].setValue(this.helper.exchangeRatePcv);\n    }\n  }\n\n  removeSide(i: number) {\n    this.sides.removeAt(i);\n  }\n\n  onSelectFilm(event, i) {\n    this.sides.controls[i].get('filmNumber').setValue(event.number);\n    this.sides.controls[i].get('bicolor').setValue(event.surchargePercentage);\n  }\n\n  onSelectSide(e, index) {\n    if (this.selectedCatalog != null) {\n      let res = \"\";\n      switch (e) {\n        case \"jedno\":\n          res = this.selectedCatalog.dimOneSide;\n          break;\n        case \"rodek\":\n          res = this.selectedCatalog.dimCenterSide;\n          break;\n        case \"obu\":\n          res = this.selectedCatalog.dimTwoSide;\n          break;\n        case \"obu-zew\":\n          res = this.selectedCatalog.dimTwoSideOuter;\n          break;\n        case \"obu-wew\":\n          res = this.selectedCatalog.dimTwoSideInner;\n          break;\n        case \"zew\":\n          res = this.selectedCatalog.dimOuter;\n          break;\n        case \"wew\":\n          res = this.selectedCatalog.dimInner;\n          break;\n      }\n      this.sides.controls[index].get('hard').setValue(this.selectedCatalog.hard);\n      this.sides.controls[index].get('filmWidth').setValue(res);\n    }\n  }\n\n  onSelectCatalog(event: KatalogProfili) {\n    this.selectedCatalog = event;\n    this.formOfferPosition.get(\"profilNumber\").setValue(event.number);\n    this.formOfferPosition.get(\"profilType\").setValue(event.offerName);\n    this.formOfferPosition.get(\"alu\").setValue(event.alu);\n    this.formOfferPosition.get(\"catalogIdHelper\").setValue(event.id);\n    this.sides.controls.forEach((x, index) => {\n      let e = x.get('side').value;\n      let res = \"\";\n      switch (e) {\n        case \"jedno\":\n          res = this.selectedCatalog.dimOneSide;\n          break;\n        case \"rodek\":\n          res = this.selectedCatalog.dimCenterSide;\n          break;\n        case \"obu\":\n          res = this.selectedCatalog.dimTwoSide;\n          break;\n        case \"obu-zew\":\n          res = this.selectedCatalog.dimTwoSideOuter;\n          break;\n        case \"obu-wew\":\n          res = this.selectedCatalog.dimTwoSideInner;\n          break;\n        case \"zew\":\n          res = this.selectedCatalog.dimOuter;\n          break;\n        case \"wew\":\n          res = this.selectedCatalog.dimInner;\n          break;\n      }\n      this.sides.controls[index].get('hard').setValue(this.selectedCatalog.hard);\n      this.sides.controls[index].get('filmWidth').setValue(res);\n    });\n  }\n  calculateSides() {\n    for (let index = 0; index < this.sides.length; index++) {\n      this.changeHard(index);\n      // if(this.sides.controls[index]['controls']['costChangeColor'].value){\n      //   this.sides.controls[index]['controls']['colorChangeBool'].setValue(true);\n      // }\n    }\n  }\n\n  changeHard(i) {\n    let event = this.sides.controls[i]['controls']['quantityMb'].value;\n    this.loadM(event, i);\n  }\n  changeAlu(event) {\n    if (event) {\n      this.sides.controls.forEach(x => {\n        x['controls']['exchangeRate'].setValue(this.helper.exchangeRateAlu);\n      })\n    } else {\n      this.sides.controls.forEach(x => {\n        x['controls']['exchangeRate'].setValue(this.helper.exchangeRatePcv);\n      })\n    }\n  }\n\n  changeColorChange(event, i) {\n    console.log(this.offerData.client.helper_costChangeColor);\n    if (event) {\n      this.sides.controls[i]['controls']['costChangeColor'].setValue(this.offerData.client.helper_costChangeColor);\n    } else {\n      this.sides.controls[i]['controls']['costChangeColor'].setValue('');\n    }\n  }\n\n  loadM(event, i) {\n    let tmpHard = this.sides.controls[i]['controls']['hard'].value;\n    if (event <= 50) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardTo50);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyTo50);\n      }\n    } else if (event > 50 && event <= 150) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardTo150);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyTo150);\n      }\n    } else if (event > 150 && event <= 500) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardTo500);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyTo500);\n      }\n    } else if (event > 500) {\n      if (tmpHard) {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mHardAbove500);\n      } else {\n        this.sides.controls[i]['controls']['mIs'].setValue(this.offerData.client.helper_mEasyAbove500);\n      }\n    }\n\n  }\n\n  updateOfferPosition() {\n    this.loading = true;\n    console.log(this.formOfferPosition.value);\n    this.offerService.updateOfferPosition(this.offerData.offerNumber, this.offerPosition.id, this.formOfferPosition.value).subscribe({\n      next: (res) => {\n        this.infoPopup.showSuccessAdd(\"pozycja\");\n        this.loading = false;\n        this.exit(1);\n      },\n      error: (err) => {\n        this.infoPopup.showErrorAdd(\"pozycja\");\n        this.loading = false;\n        console.log(err);\n      }\n    })\n  }\n\n}","<div class=\"sb-dialog-content\" style=\"width: 1000px; min-width: 1000px;\">\n    <form [formGroup]=\"formOfferPosition\" class=\"sb-form\">\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n\n                        <label class=\"sb-small-label\" for=\"systemId\">Wybr systemu</label>\n                        <p-dropdown [options]=\"productionService.allSystems\" (onChange)=\"filterBySystem()\"\n                            styleClass=\"fullwidth\" appendTo=\"body\" [(ngModel)]=\"selectedSystem\"\n                            [ngModelOptions]=\"{standalone: true}\" placeholder=\"Wybierz system\" optionLabel=\"name\"\n                            [showClear]=\"true\" filter=\"true\">\n                        </p-dropdown>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n                        <p-radioButton class=\"p-2\" name=\"groupSearch\" value=\"number\" label=\"Numer\"\n                            [(ngModel)]=\"searchBy\" [ngModelOptions]=\"{standalone: true}\"></p-radioButton>\n                        <p-radioButton class=\"p-2\" name=\"groupSearch\" value=\"name\" label=\"Nazwa\" [(ngModel)]=\"searchBy\"\n                            [ngModelOptions]=\"{standalone: true}\">\n                        </p-radioButton>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n\n                        <label class=\"sb-small-label\" for=\"profilNumberId\">Numer ksztatownika *</label>\n                        <p-autoComplete [inputStyle]=\"{'font-weight':'bold'}\" autocomplete=\"off\" appendTo=\"body\"\n                            styleClass=\"fullwidth\" [formControl]=\"formOfferPosition.get('profilNumber')\"\n                            [suggestions]=\"catalogSugFiltered\" (completeMethod)=\"searchCatalog($event)\"\n                            [dropdown]=\"true\" emptyMessage=\"Nie znaleziono\" (onSelect)=\"onSelectCatalog($event)\">\n                            <ng-template let-catalog pTemplate=\"item\">\n\n                                <div\n                                    [class]=\"'measure-badge status-' + catalog.actualMeasurement + ' catalog-dropdown'\">\n\n                                    <div class=\"row\">\n                                        <div class=\"col\">\n                                            <div style=\"font-size:16px;\">\n                                                <i style=\"color:red;font-size: 1em;padding-right: 2px;\"\n                                                    *ngIf=\"catalog.hard\" class=\"pi pi-exclamation-triangle\"></i>\n                                                {{catalog.number}}\n                                            </div>\n                                            <div style=\"font-size:12px;\">{{catalog.profileType}}</div>\n                                            <div style=\"font-size:12px;\">{{catalog.systemProfil.name}}</div>\n                                        </div>\n                                        <div class=\"col\">\n                                            <div style=\"font-size:12px;\">ZEW: <b>{{catalog.dimOuter}}</b></div>\n                                            <div style=\"font-size:12px;\">WEW: <b>{{catalog.dimInner}}</b></div>\n                                            <div style=\"font-size:12px;\">JEDN: <b>{{catalog.dimOneSide}}</b>\n                                            </div>\n                                            <div style=\"font-size:12px;\">RO: <b>{{catalog.dimCenterSide}}</b>\n                                            </div>\n                                        </div>\n                                        <div class=\"col\">\n                                            <div style=\"font-size:12px;\">OBU: <b>{{catalog.dimTwoSide}}</b>\n                                            </div>\n                                            <div style=\"font-size:12px;\">OBU ZEW:\n                                                <b>{{catalog.dimTwoSideOuter}}</b>\n                                            </div>\n                                            <div style=\"font-size:12px;\">OBU WEW:\n                                                <b>{{catalog.dimTwoSideInner}}</b>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                            </ng-template>\n                        </p-autoComplete>\n                        <p class=\"invalid-feedback\"\n                            *ngIf=\"formOfferPosition.get('profilNumber').hasError('required') && formOfferPosition.get('profilNumber').touched\">\n                            musi by wypenione\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12\">\n                        <label class=\"sb-small-label\" for=\"profilTypeId\">Rodzaj ksztatownika *</label>\n                        <input pInputText type=\"text\" autocomplete=\"off\" class=\"fullwidth\"\n                            [formControl]=\"formOfferPosition.get('profilType')\">\n                        <p class=\"invalid-feedback\"\n                            *ngIf=\"formOfferPosition.get('profilType').hasError('required') && formOfferPosition.get('profilType').touched\">\n                            musi by wypenione\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row pt-1\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12 d-flex align-items-center\">\n                        <p-checkbox [formControl]=\"formOfferPosition.get('alu')\" (ngModelChange)=\"changeAlu($event)\"\n                            [binary]=\"true\" label=\"Alu\">\n                        </p-checkbox>\n                    </div>\n                </div>\n                <div class=\"row pt-1\">\n                    <div class=\"col-g-12 col-md-12 col-lg-12 d-flex align-items-center\">\n                        <p-checkbox [formControl]=\"formOfferPosition.get('warranty')\" [binary]=\"true\" label=\"Gwarancja\">\n                        </p-checkbox>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                <div class=\"row w-100 m-0\">\n\n                    <div class=\"col-g-12 col-md-12 col-lg-12 sb-stats-form\">\n                        <div class=\"row\">\n                            <div class=\"sb-stars-header\">Ustawienia klienta</div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead>\n                                            <th class=\"text-left\">Metry</th>\n                                            <th class=\"text-center\">atwe</th>\n                                            <th class=\"text-center\">Trudne</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td class=\"text-left\">0-50</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyTo50}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardTo50}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left\">51-150</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyTo150}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardTo150}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left\">151-500</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyTo500}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardTo500}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td class=\"text-left\">pow. 500</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mEasyAbove500}}</td>\n                                                <td class=\"text-center\">{{offerData.client.helper_mHardAbove500}}</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead>\n                                            <th></th>\n                                            <th class=\"text-center\">Kurs</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td>ALU</td>\n                                                <td class=\"text-center\">{{helper.exchangeRateAlu}}</td>\n                                            </tr>\n                                            <tr>\n                                                <td>PCV</td>\n                                                <td class=\"text-center\">{{helper.exchangeRatePcv}}</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n                <div class=\"row w-100 m-0\">\n                    <div *ngIf=\"selectedCatalog != null\" class=\"col-g-12 col-md-12 col-lg-12 sb-stats-form mt-2\">\n\n                        <div class=\"row p-1\">\n\n                            <div class=\"sb-stars-header\">Wybrana pozycja</div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead class=\"sb-header-normal\">\n                                            <th class=\"text-left\">Numer</th>\n                                            <th class=\"text-left\">Nazwa</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td class=\"text-center\"><b>{{selectedCatalog.number}}</b></td>\n                                                <td class=\"text-center\"><b>{{selectedCatalog.offerName}}</b></td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                            <div class=\"col-g-12 col-md-6 col-lg-6\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <tbody>\n                                            <tr>\n                                                <td *ngIf=\"selectedCatalog.hard\" style=\"color:red; border: 0;\"\n                                                    class=\"text-center\">\n                                                    <i style=\"padding-right: 5px;\"\n                                                        class=\"pi pi-exclamation-triangle\"></i>\n                                                    <span>TRUDNE</span>\n                                                </td>\n                                                <td *ngIf=\"selectedCatalog.actualMeasurement\"\n                                                    style=\"color:green; border: 0;\" class=\"text-center\">\n                                                    <i style=\"padding-right: 5px;\" class=\"pi pi-check-circle\"></i>\n                                                    <span>Wymiar zmierzony fizycznie</span>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"row p-1\">\n                            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                                <div class=\"stats-table\">\n                                    <table>\n                                        <thead class=\"sb-header-normal\">\n                                            <th class=\"text-center\">ZEW</th>\n                                            <th class=\"text-center\">WEW</th>\n                                            <th class=\"text-center\">JEDN</th>\n                                            <th class=\"text-center\">ROD</th>\n                                            <th class=\"text-center\">OBU</th>\n                                            <th class=\"text-center\">OBU ZEW</th>\n                                            <th class=\"text-center\">OBU WEW</th>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimOuter ? selectedCatalog.dimOuter : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimInner ? selectedCatalog.dimInner : \"--\"}}</b>\n                                                </td>\n\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimOneSide ? selectedCatalog.dimOneSide : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimCenterSide ? selectedCatalog.dimCenterSide : \"--\"}}</b>\n                                                </td>\n\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimTwoSide ? selectedCatalog.dimTwoSide : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimTwoSideOuter ? selectedCatalog.dimTwoSideOuter : \"--\"}}</b>\n                                                </td>\n                                                <td class=\"text-center\">\n                                                    <b>{{selectedCatalog.dimTwoSideInner ? selectedCatalog.dimTwoSideInner : \"--\"}}</b>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row mt-2\" *ngIf=\"selectedCatalog.comments\" style=\"border-top:1px solid #D5D5D5\">\n                            <div class=\"col-g-12 col-md-12 col-lg-12 p-0\" pTooltip=\"Uwagi\">\n                                <div class=\"sb-stars-header\" style=\"color:red; font-size: 10px;\">UWAGI:</div>\n                                <div class=\"pl-1\" [innerHtml]=\"selectedCatalog.comments\"></div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <hr>\n        <div class=\"row mb-2\">\n            <div class=\"col text-center\">\n                <span><b>STRONY</b></span>\n            </div>\n        </div>\n\n        <div formArrayName=\"offerPositionSides\">\n\n            <div class=\"row sb-position-side\" *ngFor=\"let item of sides.controls; index as i\" [formGroupName]=\"i\">\n\n                <div class=\"col-g-12 col-md-12 col-lg-6 p-0\">\n\n                    <div class=\"row flex-nowrap sb-row-position-side\">\n\n                        <div class=\"col-g-12 col-md-1 col-lg-1 sb-col-side count\">\n\n                            <button pButton pRipple type=\"button\" (click)=\"removeSide(i)\" style=\"height: 25px;\"\n                                pTooltip=\"Usu stron\" icon=\"pi pi-times\" class=\"p-button-sm sb-button red\"></button>\n\n                            <span class=\"text-center p-2\">{{i + 1}}</span>\n\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n\n                            <label class=\"sb-small-label \" for=\"side\">Str. kszta.</label>\n                            <p-autoComplete formControlName=\"side\" autocomplete=\"off\" [suggestions]=\"sideSugFiltered\"\n                                (completeMethod)=\"searchSide($event)\" [dropdown]=\"true\" autocomplete=\"off\"\n                                [completeOnFocus]=\"true\" appendTo=\"body\" (onSelect)=\"onSelectSide($event,i)\">\n                                <ng-template let-side pTemplate=\"item\">\n                                    <div class=\"catalog-dropdown-side\">\n                                        <div class=\"row\">\n                                            <div class=\"col\">{{side}}</div>\n                                        </div>\n                                    </div>\n                                </ng-template>\n                            </p-autoComplete>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-3 col-lg-3 sb-col-side\">\n\n                            <label class=\"sb-small-label\" for=\"filmNumber\">Numer Okleiny</label>\n                            <p-autoComplete formControlName=\"filmNumber\" [minLength]=\"1\" [suggestions]=\"filmSugFiltered\"\n                                (completeMethod)=\"searchFilm($event)\" [dropdown]=\"true\" autocomplete=\"off\"\n                                [completeOnFocus]=\"true\" appendTo=\"body\" (onSelect)=\"onSelectFilm($event,i)\">\n                                <ng-template let-film pTemplate=\"item\">\n                                    <div class=\"catalog-dropdown-film\">\n                                        <!-- <img src=\"{{film.imgLink}}\" style=\"width:32px;display:inline-block;margin:5px 0 2px 5px\"/> -->\n                                        <div class=\"row\">\n                                            <div class=\"col-6\">\n                                                <div style=\"font-size:16px;\">{{film.number}}</div>\n                                                <div style=\"font-size:12px;\"> {{film.name}}</div>\n                                            </div>\n\n                                            <div class=\"col-6 pl-2 text-center\" [ngSwitch]=\"film.status\"\n                                                style=\"font-size:12px;\">\n                                                <div *ngSwitchCase=\"'DOSTEPNA'\" class=\"status-dost\">DOST.</div>\n                                                <div *ngSwitchCase=\"'NIEDOSTEPNA'\" class=\"status-niedost\">NIEDOST.</div>\n                                                <div *ngSwitchCase=\"'DOSTEPNOSCOGRANICZONA'\" class=\"status-ogr\">OGRAN.\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ng-template>\n                            </p-autoComplete>\n\n                        </div>\n\n                        <div class=\"col-g-12 col-md-3 col-lg-3 sb-col-side\">\n\n                            <label class=\"sb-small-label\" for=\"filmWidthId\">Szer. Okl. *</label>\n                            <p-inputNumber formControlName=\"filmWidth\" inputId=\"filmWidthId\" suffix=\" mm\" [min]=\"0\"\n                                [step]=\"1\" [inputStyle]=\"{'font-weight':'bold'}\">\n                            </p-inputNumber>\n\n                        </div>\n\n                        <div class=\"col-g-12 col-md-3 col-lg-3 sb-col-side\">\n                            <label class=\"sb-small-label \" for=\"quantityMb\">Ilo Mb *</label>\n                            <p-inputNumber (onInput)=\"loadM($event.value,i)\" formControlName=\"quantityMb\"\n                                inputId=\"quantityMb\" mode=\"decimal\" [min]=\"0\" [step]=\"0.5\" [minFractionDigits]=\"1\">\n                            </p-inputNumber>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div class=\"col-g-12 col-md-12 col-lg-6 p-0\">\n\n                    <div class=\"row flex-nowrap sb-row-position-side justify-content-end\">\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"additional\">Dopata *</label>\n                            <p-inputNumber formControlName=\"additional\" mode=\"decimal\" [min]=\"0\" [step]=\"0.10\"\n                                [minFractionDigits]=\"2\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"cost\">Koszt *</label>\n                            <p-inputNumber formControlName=\"cost\" mode=\"decimal\" [min]=\"0\" [step]=\"0.01\"\n                                [minFractionDigits]=\"2\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"mIs\">Przelicznik *</label>\n                            <p-inputNumber formControlName=\"mIs\" mode=\"decimal\" [min]=\"0\" [step]=\"0.10\"\n                                [minFractionDigits]=\"2\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"bicolor\">Bicolor</label>\n                            <p-inputNumber formControlName=\"bicolor\" type=\"number\" [min]=\"0\" suffix=\"%\" [step]=\"1\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"costChangeColor\">Zm. koloru</label>\n                            <p-inputNumber formControlName=\"costChangeColor\" type=\"number\" [min]=\"0\" [step]=\"10\">\n                            </p-inputNumber>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-2 col-lg-2 sb-col-side\">\n                            <label class=\"sb-small-label\" for=\"exchangeRate\">Kurs *</label>\n                            <p-inputNumber formControlName=\"exchangeRate\" type=\"number\" [min]=\"0\" [step]=\"0.1\">\n                            </p-inputNumber>\n                        </div>\n                    </div>\n\n                    <div class=\"row align-items-center w-100 m-0\">\n                        <div class=\"col-g-12 col-md-4 col-lg-4 sb-col-side\">\n                            <p-checkbox formControlName=\"hard\" (ngModelChange)=\"changeHard(i)\" [binary]=\"true\"\n                                label=\"Trudne\">\n                            </p-checkbox>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-4 col-lg-4 sb-col-side\">\n                            <p-checkbox formControlName=\"filmEntrusted\" [binary]=\"true\" label=\"Folia powierzona\">\n                            </p-checkbox>\n                        </div>\n\n                        <div class=\"col-g-12 col-md-4 col-lg-4 sb-col-side\">\n                            <p-checkbox formControlName=\"changeColor\"\n                                (ngModelChange)=\"changeColorChange($event,i)\" [binary]=\"true\" label=\"Zm. koloru\">\n                            </p-checkbox>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-g-12 col-md-12 col-lg-12 d-flex justify-content-center\">\n                    <button pButton pRipple type=\"button\" (click)=\"addSide()\" pTooltip=\"Dodaj stron\" icon=\"pi pi-plus\"\n                        label=\"Dodaj stron\" class=\"p-button-sm sb-button blue m-1\"></button>\n\n                    <button [disabled]=\"sides.length == 0\" pButton pRipple type=\"button\" (click)=\"duplicateLastSide()\"\n                        pTooltip=\"Powielanie ostatniej pozycji\" icon=\"pi pi-angle-double-down\" label=\"Powiel stron\"\n                        class=\"p-button-sm sb-button blue m-1\"></button>\n                </div>\n            </div>\n\n        </div>\n\n    </form>\n</div>\n\n<div class=\"sb-dialog-footer\">\n    <div class=\"sb-btn-close\">\n        <button pButton pRipple type=\"button\" (click)=\"exit(0)\" pTooltip=\"Anulowanie dodawania\" label=\"Anuluj\"\n            icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\">\n        </button>\n    </div>\n    <div class=\"sb-btn-save\">\n        <button [disabled]=\"formOfferPosition.invalid || loading || sides.length == 0\" pButton pRipple type=\"button\"\n            (click)=\"updateOfferPosition()\" pTooltip=\"Aktualizuj pozycj\" label=\"Zapisz\" icon=\"pi pi-check\"\n            class=\"p-button-sm sb-button green\">\n        </button>\n        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\" styleClass=\"custom-spinner\"\n            strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"></p-progressSpinner>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ThemePalette } from '@angular/material/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DynamicDialogRef } from 'primeng/dynamicdialog';\nimport { reduce } from 'rxjs/operators';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { OffersService } from '../../offers.service'\n\n@Component({\n  selector: 'app-form-new-offer',\n  templateUrl: './form-new-offer.component.html',\n  styleUrls: ['./form-new-offer.component.scss']\n})\nexport class FormNewOfferComponent implements OnInit {\n\n  color: ThemePalette = 'warn';\n  formOffer: FormGroup;\n  loading = false;\n  pl = {\n    firstDayOfWeek: 1,\n    dayNames: [\"Niedziela\", \"Poniedziaek\", \"Wtorek\", \"roda\", \"Czwartek\", \"Pitek\", \"Sobota\"],\n    dayNamesShort: [\"Niedz\", \"Pon\", \"Wt\", \"r\", \"Czw\", \"Pt\", \"Sob\"],\n    dayNamesMin: [\"Ni\", \"Po\", \"Wt\", \"r\", \"Cz\", \"Pt\", \"So\"],\n    monthNames: [\"Stycze\", \"Luty\", \"Marzec\", \"Kwiecie\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpie\", \"Wrzesie\", \"Padziernik\", \"Listopad\", \"Grudzie\"],\n    monthNamesShort: [\"Sty\", \"Lut\", \"Mar\", \"Kwi\", \"Maj\", \"Cze\", \"Lip\", \"Sie\", \"Wrz\", \"Pa\", \"Lis\", \"Gru\"],\n    today: 'Dzi',\n    clear: 'Wyczy',\n    dateFormat: 'dd-mm-yy',\n    weekHeader: 'Wk'\n  };\n\n  constructor(\n    public offerService: OffersService,\n    private infoPopup: InfoPopupComponent,\n    private route: ActivatedRoute,\n    private router: Router,\n    public ref: DynamicDialogRef\n  ) { }\n\n  ngOnInit(): void {\n    this.formOffer = new FormGroup({\n      offerNumber: new FormControl(''),\n      offerDate: new FormControl(new Date()),\n      myCompany: new FormControl('', { validators: [Validators.required] }),\n      client: new FormControl('', { validators: [Validators.required] })\n    })\n    this.offerService.getMyCompanies();\n    this.offerService.getClients();\n  }\n\n  addOffer(){\n    this.loading = true;\n    this.offerService.addNewOffer(this.formOffer.value).subscribe({\n      next: (res)=>{\n        this.router.navigate(['../marketing/oferta/', res.offerNumber], { relativeTo: this.route });\n        this.infoPopup.showSuccessAdd(\"oferta\");\n        this.exit(1);\n        this.loading = false;\n      },\n      error: (err)=>{\n        console.log(err);\n        this.infoPopup.showErrorAdd(\"oferta\");\n        this.loading = false;\n      },\n      complete: () =>{\n      }\n    })\n  }\n  exit(id) {\n    this.ref.close(id);\n  }\n\n\n}\n","<div class=\"sb-dialog-content\">\n    <form [formGroup]=\"formOffer\" class=\"sb-form\">\n\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-12 col-lg-12\">\n                \n                <label class=\"sb-small-label\" for=\"myCompany\">Oferta do firmy *</label>\n\n                <p-dropdown [style]=\"{'width':'100%'}\" appendTo=\"body\" placeholder=\"Wybierz firm\" id=\"myCompany\"\n                    [options]=\"offerService.myCompanyData\" [filter]=\"true\" filterBy=\"name,value.name\"\n                    [formControl]=\"formOffer.get('myCompany')\" required></p-dropdown>\n\n                <p class=\"invalid-feedback\" *ngIf=\"formOffer.get('myCompany').hasError('required') && formOffer.get('myCompany').touched\">\n                    musi by wypenione\n                </p>\n\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-g-12 col-md-12 col-lg-12\">\n\n                <label class=\"sb-small-label\" for=\"client\">Klient *</label>\n                \n                <p-dropdown placeholder=\"Wybierz klienta\" [style]=\"{'width':'100%'}\" appendTo=\"body\" id=\"client\"\n                    [options]=\"offerService.clientData\" [filter]=\"true\" filterBy=\"name,value.name\"\n                    [formControl]=\"formOffer.get('client')\" required>\n                </p-dropdown>\n\n                <p class=\"invalid-feedback\" *ngIf=\"formOffer.get('client').hasError('required') && formOffer.get('client').touched\">\n                    musi by wypenione\n                </p>\n\n            </div>\n        </div>\n\n        <div class=\"row\">\n\n            <div class=\"col-g-12 col-md-6 col-lg-6\">\n\n                <label class=\"sb-small-label\" for=\"offerDate\">Data Oferty</label>\n\n                <p-calendar dateFormat=\"yy-mm-dd\" appendTo=\"body\" [monthNavigator]=\"true\" [locale]=\"pl\"\n                    [formControl]=\"formOffer.get('offerDate')\" [showIcon]=\"true\" required>\n                </p-calendar>\n\n            </div>\n\n            <div class=\"col-g-12 col-md-6 col-lg-6\">\n\n                <label class=\"sb-small-label\" for=\"offerNumber\">Numer oferty**</label>\n                \n                <input pInputText id=\"offerNumber\" pKeyFilter=\"alpha\" [formControl]=\"formOffer.get('offerNumber')\" type=\"text\"\n                    pTooltip=\"Pole przeznaczone do wpisania numeru oferty jeeli chcemy ustawi indywidualny. Pozostawienie pustego pola spowoduje automatyczne wygenerowanie numeru oferty.\"\n                    class=\"\" autocomplete=\"off\">\n\n            </div>\n        </div>\n\n    </form>\n</div>\n\n<div class=\"sb-dialog-footer\">\n    <div class=\"sb-btn-close\">\n        <button pButton pRipple type=\"button\" (click)=\"exit(0)\" pTooltip=\"Anulowanie dodawania\" label=\"Anuluj\"\n            icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\">\n        </button>\n    </div>\n    <div class=\"sb-btn-save\">\n        <button [disabled]=\"formOffer.invalid || loading\" pButton pRipple type=\"button\" (click)=\"addOffer()\"\n            pTooltip=\"Dodaj ofert\" label=\"Zapisz\" icon=\"pi pi-check\" class=\"p-button-sm sb-button green\">\n        </button>\n        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\" styleClass=\"custom-spinner\"\n            strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"></p-progressSpinner>\n    </div>\n</div>","import { Component, Injectable, OnInit } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, ActivatedRoute, Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\nimport { ConfirmationService } from 'primeng/api';\nimport { DialogService } from 'primeng/dynamicdialog';\nimport { Observable } from 'rxjs';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { ProductionServiceService } from 'src/app/production/production-service/production-service.service';\nimport { OfferHelpers, SettingsService } from 'src/app/settings/settings.service';\nimport { AddOfferPositionComponent } from '../form/add-offer-position/add-offer-position.component';\nimport { UpdateClientHelpersComponent } from '../form/update-client-helpers/update-client-helpers.component';\nimport { UpdateClientHelperRangeComponent } from '../form/update-client-helper-range/update-client-helper-range.component';\nimport { UpdateOfferPositionComponent } from '../form/update-offer-position/update-offer-position.component';\nimport { Offer, OfferPosition, OffersService } from '../offers.service';\nimport { PrintOfferService } from '../../print/print-offer.service'\nimport { GlobalService } from 'src/app/_services/global.service';\n\n@Injectable()\nexport class OfferResolver implements Resolve<any> {\n  constructor(private offerService: OffersService) { }\n\n  resolve(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<any> | Promise<any> | any {\n    console.log(\"Resolve Offer with id: \" + route.paramMap.get('id'))\n    return this.offerService.getOfferById(route.paramMap.get('id'));\n  }\n}\n\n@Component({\n  selector: 'app-details-offer',\n  templateUrl: './details-offer.component.html',\n  styleUrls: ['./details-offer.component.scss']\n})\nexport class DetailsOfferComponent implements OnInit {\n\n  offer: Offer;\n  offerNumber: string;\n  helper: OfferHelpers = {\n    exchangeRateAlu: null,\n    exchangeRatePcv: null,\n    defaultSetCost: null,\n    defaultClientSetUpCost: null,\n    defaultPrintTextHeader: null,\n    defaultPrintTextTableFotter: null,\n    defaultCostChangeColor: null\n  };\n  loadingTable = false;\n  loadingSaveHelper = false;\n  displayFormExchange = false;\n  displayPrintOffer = false;\n  loadingPrintOffer = false;\n  offerPositions: OfferPosition[];\n  totalPLN: number = 0;\n  totalAdditionalU: number = 0;\n  totalAdditionalP: number = 0;\n  allTotalPLN: number = 0;\n  offerNotes: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private infoPopup: InfoPopupComponent,\n    private cookieService: CookieService,\n    private confirmationService: ConfirmationService,\n    private router: Router,\n    private offerService: OffersService,\n    private settingService: SettingsService,\n    public dialogService: DialogService,\n    public productionService: ProductionServiceService,\n    public printOfferService: PrintOfferService,\n    public globalService: GlobalService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadingTable = true;\n    this.route.data.subscribe({\n      next: (res) => {\n        this.offer = res.offer;\n        this.offerNumber = res.offer.offerNumber;\n        this.offerNotes = res.offer.offerNotes;\n        this.offerNotes.sort((a, b) => {\n          if (a.createdDate > b.createdDate) {\n            return 1;\n          }\n          if (a.createdDate < b.createdDate) {\n            return -1;\n          }\n          return 0;\n        });\n        this.offerPositions = this.offer.offerPosition.sort((a, b) => a.positionNumber - b.positionNumber);\n        this.offerPositions.forEach(x => {\n          x = x.offerPositionSides.sort((a, b) => {\n            if (a.side > b.side) {\n              return -1;\n            }\n            if (a.side < b.side) {\n              return 1;\n            }\n            return 0;\n          });\n        })\n        this.loadingTable = false;\n        this.globalService.loadingGlobal = false;\n      },\n      error: (err) => {\n        console.log(err);\n        this.infoPopup.showErrorDownload(\"oferta\");\n      },\n      complete: () => {\n      }\n    });\n\n    this.settingService.getHelpers().subscribe({\n      next: (res) => {\n        this.helper = res[0];\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n\n    this.productionService.loadCatalogSuggestions();\n    this.productionService.loadFilmSuggestions();\n    this.productionService.loadAllSystems();\n\n   // console.log(this.offer);\n  }\n\n  loadData() {\n    this.loadingTable = true;\n    this.offerService.getOfferById(this.offerNumber).subscribe({\n      next: (res) => {\n        this.offer = res;\n        this.offerNotes = this.offer.offerNotes;\n        this.offerNotes.sort((a, b) => {\n          if (a.createdDate > b.createdDate) {\n            return 1;\n          }\n          if (a.createdDate < b.createdDate) {\n            return -1;\n          }\n          return 0;\n        });\n        this.offerPositions = this.offer.offerPosition.sort((a, b) => a.positionNumber - b.positionNumber);\n        this.offerPositions.forEach(x => {\n          x = x.offerPositionSides.sort((a, b) => {\n            if (a.side > b.side) {\n              return -1;\n            }\n            if (a.side < b.side) {\n              return 1;\n            }\n            return 0;\n          });\n        })\n        this.loadingTable = false;\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    });\n\n    this.settingService.getHelpers().subscribe({\n      next: (res) => {\n        this.helper = res[0];\n      },\n      error: (err) => {\n        console.log(err);\n      },\n      complete: () => {\n      }\n    })\n  }\n\n  backClicked() {\n    this.router.navigateByUrl('/marketing');\n  }\n\n  deleteOffer() {\n    this.confirmationService.confirm({\n      message: 'Na pewno chcesz usun oferte: ' + this.offer.offerNumber + ' ?',\n      header: 'Potwierdzenie',\n      acceptLabel: 'Tak',\n      rejectLabel: 'Nie',\n      acceptIcon: 'pi pi-trash',\n      acceptButtonStyleClass: 'p-button-sm sb-button red',\n      rejectButtonStyleClass: 'p-button-sm sb-button o-gray',\n      accept: () => {\n        this.globalService.loadingGlobal = true;\n        this.offerService.deleteOffer(this.offer.offerNumber).subscribe({\n          next: (res) => {\n            console.log(res);\n            this.infoPopup.showSuccessDelete(\"oferta\");\n            this.globalService.loadingGlobal = false;\n            this.backClicked();\n          },\n          error: (err) => {\n            console.log(err);\n            this.infoPopup.showErrorDelete(\"oferta\");\n          }\n        })\n      }\n    });\n  }\n\n  deleteOfferRow(posData: OfferPosition) {\n    this.confirmationService.confirm({\n      message: 'Na pewno chcesz usun pozycj: ' + posData.profilNumber + ' ?',\n      header: 'Potwierdzenie',\n      acceptLabel: 'Tak',\n      rejectLabel: 'Nie',\n      acceptIcon: 'pi pi-trash',\n      acceptButtonStyleClass: 'p-button-sm sb-button red',\n      rejectButtonStyleClass: 'p-button-sm sb-button o-gray',\n      accept: () => {\n        this.globalService.loadingGlobal = true;\n        this.offerService.deleteOfferPosition(this.offer.offerNumber, posData.id).subscribe({\n          next: (res) => {\n            this.loadData();\n            this.globalService.loadingGlobal = false;\n            this.infoPopup.showSuccessDelete(\"pozycje\");\n          },\n          error: (err) => {\n            console.log(err);\n            this.infoPopup.showErrorDelete(\"pozycje\");\n          }\n        })\n      }\n    });\n  }\n\n  \n  showDialogToAddOfferPosition() {\n    const ref = this.dialogService.open(AddOfferPositionComponent, {\n      header: 'Nowa pozycja',\n      data: this.offer\n    });\n\n    ref.onClose.subscribe(res => {\n      if (res) {\n        this.loadData();\n      }\n      console.log('The dialog add offer position was closed');\n    });\n  }\n\n  showDialogToUpdateOfferPosition(posData) {\n    const ref = this.dialogService.open(UpdateOfferPositionComponent, {\n      header: 'Aktualizacja pozycji',\n      data: [this.offer, posData]\n    });\n\n    ref.onClose.subscribe(res => {\n      if (res) {\n        this.loadData();\n      }\n      console.log('The dialog update offer position was closed');\n    });\n  }\n\n  showDialogToUpdateHelperOffer() {\n    const ref = this.dialogService.open(UpdateClientHelpersComponent, {\n      header: 'Aktualizacja ustawie dla firmy: ' + this.offer.client.name,\n      data: this.offer,\n      width: '300px'\n    });\n\n    ref.onClose.subscribe(res => {\n      if (res) {\n        this.loadData();\n      }\n      console.log('The dialog update helpers was closed');\n    });\n  }\n\n  showDialogToUpdateHelperOfferRange() {\n    const ref = this.dialogService.open(UpdateClientHelperRangeComponent, {\n      header: 'Aktualizacja ustawie dla firmy: ' + this.offer.client.name,\n      data: this.offer\n    });\n\n    ref.onClose.subscribe(res => {\n      if (res) {\n        this.loadData();\n      }\n      console.log('The dialog update helpers range was closed');\n    });\n  }\n\n\n  // ===============  PRINT  =================\n\n  showDialogToSelectPrint() {\n    this.displayPrintOffer = true;\n  }\n\n  closePrintOffer() {\n    this.displayPrintOffer = false;\n    this.loadingPrintOffer = false;\n  }\n\n  printOffer() {\n    this.loadingPrintOffer = true;\n    this.printOfferService.initPrint('offer', this.offer.offerNumber);\n    this.closePrintOffer();\n  }\n\n  printOfferCosts() {\n    this.loadingPrintOffer = true;\n    this.printOfferService.initPrint('offerCost', this.offer.offerNumber);\n    this.closePrintOffer();\n  }\n\n\n\n}\n","<div class=\"container-offer-details\">\n\n    <div class=\"row mb-2\">\n        <div class=\"col-g-12 col-md-6 col-lg-6\">\n            <button pButton pRipple type=\"button\" (click)=\"backClicked()\" icon=\"pi pi-chevron-left\" style=\"width: 50px !important;\"\n                class=\"p-button-sm sb-button blue back\"></button>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-6\">\n            <div class=\"float-right\" *ngIf=\"offer.myCompany.logoLink\">\n                <img height=\"50px\" [src]=\"offer.myCompany.logoLink\" alt=\"\">\n            </div>\n            <p *ngIf=\"!offer.myCompany.logoLink\" class=\"float-right\">{{offer.myCompany.name}}</p>\n        </div>\n\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-ticket\"></i>\n                </div>\n                <div class=\"stats-numbers\">{{offer.offerNumber}}</div>\n                <div class=\"stats-subtitle\">Numer oferty</div>\n            </div>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-user\"></i>\n                </div>\n                <div class=\"stats-numbers\">{{offer.client.name}}</div>\n                <div class=\"stats-subtitle\">Kontrahent</div>\n            </div>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-check-circle\"></i>\n                </div>\n                <div class=\"stats-numbers\">{{offer.offerStatus}}</div>\n                <div class=\"stats-subtitle\">Status</div>\n            </div>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-calendar\"></i>\n                </div>\n                <div class=\"stats-numbers\">{{offer.offerDate | date:'dd.MM.yyyy'}}</div>\n                <div class=\"stats-subtitle\">Data oferty</div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row\">\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-plus-circle\"></i>\n                </div>\n                <div class=\"stats-numbers\">{{offer.createdBy}}</div>\n                <div class=\"stats-subtitle\">Oferta utworzona przez</div>\n            </div>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-money-bill\"></i>\n                </div>\n                <div class=\"row w-100 m-0\" style=\"top: -12px;position: relative;\">\n\n                    <div class=\"col-g-12 col-md-6 col-lg-6 stats-table-clients\">\n                        <table>\n                            <thead>\n                                <th class=\"text-center\">Dopata</th>\n                                <th class=\"text-center\">Koszt</th>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td class=\"text-center\">{{offer.client.helper_additional}}</td>\n                                    <td class=\"text-center\">{{offer.client.helper_cost}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <table>\n                            <thead>\n                                <th class=\"text-center\" pTooltip=\"Ustawienie\">Ust.</th>\n                                <th class=\"text-center\">Zm. koloru</th>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td class=\"text-center\">{{offer.client.helper_setUpCost}}</td>\n                                    <td class=\"text-center\">{{offer.client.helper_costChangeColor}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div class=\"col-g-12 col-md-6 col-lg-6 stats-table-clients\">\n                        <table>\n                            <thead>\n                                <th></th>\n                                <th class=\"text-center\">Kurs</th>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td>ALU</td>\n                                    <td class=\"text-center\">{{ helper ? helper.exchangeRateAlu : \"-\"}}</td>\n                                </tr>\n                                <tr>\n                                    <td>PCV</td>\n                                    <td class=\"text-center\">{{ helper ? helper.exchangeRatePcv : \"-\"}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                </div>\n\n            </div>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-table\"></i>\n                </div>\n                <div class=\"stats-table\">\n                    <table>\n                        <thead>\n                            <th class=\"text-left\">Metry</th>\n                            <th class=\"text-center\">atwe</th>\n                            <th class=\"text-center\">Trudne</th>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td class=\"text-left\">0-50</td>\n                                <td class=\"text-center\">{{offer.client.helper_mEasyTo50}}</td>\n                                <td class=\"text-center\">{{offer.client.helper_mHardTo50}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"text-left\">51-150</td>\n                                <td class=\"text-center\">{{offer.client.helper_mEasyTo150}}</td>\n                                <td class=\"text-center\">{{offer.client.helper_mHardTo150}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"text-left\">151-500</td>\n                                <td class=\"text-center\">{{offer.client.helper_mEasyTo500}}</td>\n                                <td class=\"text-center\">{{offer.client.helper_mHardTo500}}</td>\n                            </tr>\n                            <tr>\n                                <td class=\"text-left\">pow. 500</td>\n                                <td class=\"text-center\">{{offer.client.helper_mEasyAbove500}}</td>\n                                <td class=\"text-center\">{{offer.client.helper_mHardAbove500}}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class=\"stats-subtitle fix\">Zakresy klienta</div>\n            </div>\n        </div>\n\n        <div class=\"col-g-12 col-md-6 col-lg-3\">\n            <div class=\"sb-stats\">\n                <div class=\"stats-icon\">\n                    <i class=\"pi pi-cog\"></i>\n                </div>\n                <div class=\"stats-button\">\n\n                    <button pButton type=\"button\" (click)=\"showDialogToUpdateHelperOffer()\" label=\"Zmie parametry\"\n                        class=\"p-button-sm sb-button gray\" pTooltip=\"Zmiana ustawie staych kontrahenta\"></button>\n                    <button pButton type=\"button\" (click)=\"showDialogToUpdateHelperOfferRange()\" label=\"Zmie zakresy\"\n                        class=\"p-button-sm sb-button gray\" pTooltip=\"Zmiana ustawie staych kontrahenta\"></button>\n\n                </div>\n                <div class=\"stats-subtitle fix\">Ustawienia</div>\n            </div>\n        </div>\n\n    </div>\n\n    <div class=\"row sb-progress-bar\" [ngClass]=\"{'hide': productionService.loadingDataValue >= 100}\">\n        <div class=\"col-g-12 col-md-12 col-lg-12\">\n            <p-progressBar [value]=\"productionService.loadingDataValue\"></p-progressBar>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-g-12 col-md-12 col-lg-12\">\n            <p-toolbar styleClass=\"sb-toolbar\">\n\n                <div class=\"p-toolbar-group-left\">\n                    <button [disabled]=\"productionService.loadingDataValue != 100\" pButton pRipple type=\"button\"\n                        (click)=\"showDialogToAddOfferPosition()\" pTooltip=\"Dodanie pojedyczej pozycji\"\n                        icon=\"pi pi-plus\" label=\"Pojedycza pozycja\" class=\"p-button-sm sb-button blue\"></button>\n\n                    <button pButton type=\"button\" (click)=\"showDialogToSelectPrint()\" pTooltip=\"Drukowanie\"\n                        icon=\"pi pi-print\" label=\"Drukowanie\" class=\"p-button-sm sb-button yellow ml-2\"></button>\n                </div>\n\n                <div class=\"p-toolbar-group-right\">\n                    <button pButton type=\"button\" (click)=\"deleteOffer()\" pTooltip=\"Usunicie oferty\"\n                        pTooltipClass=\"tooltip-red\" icon=\"pi pi-trash\" class=\"p-button-sm sb-button red\"></button>\n                </div>\n\n            </p-toolbar>\n        </div>\n    </div>\n\n\n    <div class=\"row\">\n        <div class=\"col\">\n            <p-tabView>\n                <p-tabPanel header=\"Edycja\" leftIcon=\"pi pi-pencil\">\n\n                    <div class=\"row\" style=\"padding: 1rem;\">\n                        <div class=\"col-g-12 col-md-12 col-lg-12\">\n                            <p-table [loading]=\"loadingTable\" \n                                [style]=\"{'min-width': '1100px','width':'fit-content','margin':'0 auto'}\"\n                                [value]=\"offerPositions\" [autoLayout]=\"true\" [rowHover]=\"true\">\n                                <ng-template pTemplate=\"header\">\n                                    <tr class=\"p-header\">\n                                        <th class=\"nr\">Nr.</th>\n                                        <th class=\"name-k\">Nazwa kszta.</th>\n                                        <th class=\"number-k\">Numer kszta.</th>\n                                        <th class=\"warranty\">Gwarancja</th>\n                                        <th class=\"ph-side\">Strony</th>\n                                        <th class=\"edit-col\"></th>\n                                    </tr>\n                                </ng-template>\n                                <ng-template pTemplate=\"body\" let-posData>\n                                    <tr class=\"p-body\">\n                                        <td class=\"nr\">{{posData.positionNumber}}</td>\n                                        <td class=\"name-k\">{{posData.profilType}}</td>\n                                        <td class=\"number-k\">{{posData.profilNumber}}</td>\n\n                                        <td class=\"warranty text-center\">\n                                            <span [class]=\"'warranty-badge status-' + posData.warranty\">\n                                                {{posData.warranty ? \"TAK\" : \"NIE\"}}\n                                            </span>\n                                        </td>\n\n                                        <td class=\"pb-side\">\n                                            <p-table [value]=\"posData.offerPositionSides\" [autoLayout]=\"true\"\n                                                [rowHover]=\"true\">\n                                                <ng-template pTemplate=\"header\">\n                                    <tr class=\"pside-header\">\n                                        <th class=\"side\">Strona</th>\n                                        <th class=\"film-number\">Numer Okl.</th>\n                                        <th class=\"film-width\">Szer. Okl.</th>\n                                        <th class=\"pln\">PLN/mb</th>\n                                        <th class=\"quantity\">Ilo mb</th>\n                                        <th class=\"sum\">Razem PLN</th>\n                                        <th class=\"u\" pTooltip=\"Ustawienie maszyny\">U*</th>\n                                        <th class=\"p\" pTooltip=\"Usuga w pakiecie\">P*</th>\n                                        <th class=\"zm\" pTooltip=\"Zmiana koloru\">ZM*</th>\n                                    </tr>\n                                </ng-template>\n                                <ng-template pTemplate=\"body\" let-pozSide>\n                                    <tr class=\"pside-body\">\n                                        <td class=\"side\">{{pozSide.side}}</td>\n                                        <td class=\"film-number\">{{pozSide.filmNumber}}</td>\n                                        <td class=\"film-width\">{{pozSide.filmWidth}}</td>\n                                        <td class=\"pln\">{{pozSide.plnMb}}</td>\n                                        <td class=\"quantity\">{{pozSide.quantityMb}}</td>\n                                        <td class=\"sum\">{{pozSide.togetherPay}}</td>\n                                        <td class=\"u\">{{pozSide.costSetup}}</td>\n                                        <td class=\"p\">{{pozSide.costSet}}</td>\n                                        <td class=\"zm\">{{pozSide.costChangeColor ? pozSide.costChangeColor : \"\"}}</td>\n                                    </tr>\n                                </ng-template>\n                            </p-table>\n                            </td>\n                            <td class=\"edit-col\">\n                                <button pButton pRipple appPermission permission=\"offerWrite\" type=\"button\"\n                                    [disabled]=\"productionService.loadingDataValue != 100\"\n                                    (click)=\"showDialogToUpdateOfferPosition(posData)\" icon=\"pi pi-pencil\"\n                                    class=\"p-button-sm sb-button blue\"></button>\n                                <button pButton pRipple appPermission permission=\"offerDelete\" type=\"button\"\n                                    (click)=\"deleteOfferRow(posData)\" icon=\"pi pi-trash\"\n                                    class=\"p-button-sm ml-1 sb-button red\"></button>\n                            </td>\n                            </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td colspan=\"4\" class=\"p-text-right\"></td>\n                                    <td colspan=\"2\" class=\"p-0\">\n                                        <div class=\"sum-table\" style=\"float: right;\">\n                                            <div class=\"row m-0 sum-table-row\">\n                                                <div class=\"text-center\" style=\"width: 120px;\">\n                                                    <div class=\"row w-100 m-0 \">\n                                                        <div class=\"col\"\n                                                            style=\"height: 50px; border: 1px solid #c8c8c8; border-bottom: 0\">\n                                                            Suma w PLN\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"row w-100 m-0\">\n                                                        <div class=\"col\" style=\"border: 1px solid #c8c8c8\">\n                                                            {{offer.sumAllPositionsPln}}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"text-center\" style=\"width: 180px;\">\n                                                    <div class=\"row w-100 m-0\">\n                                                        <div class=\"col\"\n                                                            style=\"height: 50px;border: 1px solid #c8c8c8; border-bottom: 0\">\n                                                            Suma dopat\n                                                            w PLN</div>\n                                                    </div>\n                                                    <div class=\"row w-100 m-0\">\n                                                        <div class=\"col\" style=\"border: 1px solid #c8c8c8\">\n                                                            {{offer.sumSetUpCost}}</div>\n                                                        <div class=\"col\"\n                                                            style=\"border: 1px solid #c8c8c8; border-left: 0\">\n                                                            {{offer.sumSetCost}}</div>\n                                                        <div class=\"col\"\n                                                            style=\"border: 1px solid #c8c8c8; border-left: 0\">\n                                                            {{offer.sumCostChangeColor}}</div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"row m-0 sum-table-row\">\n                                                <div class=\"text-center\" style=\"width: 300px;\">\n                                                    <div class=\"row w-100 m-0\">\n                                                        <div class=\"col\"\n                                                            style=\"border: 1px solid #c8c8c8; border-bottom: 0\">Razem\n                                                            netto\n                                                            w PLN</div>\n                                                    </div>\n                                                    <div class=\"row w-100 m-0\">\n                                                        <div class=\"col\" style=\"border: 1px solid #c8c8c8\">\n                                                            {{offer.sumAllNetto}}</div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"emptymessage\">\n                                <tr>\n                                    <td [attr.colspan]=\"6\" style=\"text-align:left\">Brak danych.</td>\n                                </tr>\n                            </ng-template>\n                            </p-table>\n                        </div>\n                    </div>\n                </p-tabPanel>\n                <p-tabPanel header=\"Notatki\" leftIcon=\"pi pi-align-justify\">\n\n                    <app-timeline-widget [offerNumber]=\"offerNumber\" [offerNotes]=\"offerNotes\"></app-timeline-widget>\n\n                </p-tabPanel>\n                <p-tabPanel header=\"Ustawienia\" leftIcon=\"pi pi-print\">\n\n                    <app-print-offer-settings [offer]=\"offer\" (change)=\"loadData()\"></app-print-offer-settings>\n\n                </p-tabPanel>\n                <p-tabPanel header=\"Podgld\" leftIcon=\"pi pi-search\">\n                    <app-view-offer [offer]=\"offer\"></app-view-offer>\n                </p-tabPanel>\n            </p-tabView>\n        </div>\n    </div>\n</div>\n\n<!-- ================= PRINT ================= -->\n<p-dialog header=\"Drukowanie\" [(visible)]=\"displayPrintOffer\" styleClass=\"print_dialog\">\n\n    <div class=\"sb-dialog-content\">\n        <div class=\"row print_choose_buttons\">\n\n            <div class=\"col\">\n                <button pButton pRipple type=\"button\" label=\"Drukowanie oferty\" (click)=\"printOffer()\"\n                    class=\"sb-button gray w-100 h-100\"></button>\n            </div>\n\n            <div class=\"col\">\n                <button pButton pRipple type=\"button\" label=\"Drukowanie zakresu cen\" (click)=\"printOfferCosts()\"\n                    class=\"sb-button gray w-100 h-100\"></button>\n            </div>\n        </div>\n    </div>\n    <div class=\"sb-dialog-footer\">\n        <div class=\"sb-btn-close\">\n            <button pButton pRipple type=\"button\" (click)=\"closePrintOffer()\" pTooltip=\"Anulowanie drukowania\"\n                label=\"Anuluj\" icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\">\n            </button>\n        </div>\n        <div class=\"sb-btn-save\">\n            <p-progressSpinner *ngIf=\"loadingPrintOffer\" [style]=\"{width: '25px', height: '25px'}\"\n                styleClass=\"custom-spinner\" strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"></p-progressSpinner>\n        </div>\n    </div>\n</p-dialog>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DetailsOfferComponent, OfferResolver } from './details-offer/details-offer.component';\nimport { MainOffersComponent } from './main-offers/main-offers.component';\n\n\nconst routes: Routes = [\n  { path: '', component: MainOffersComponent },\n  {\n    path: 'oferta/:id', component: DetailsOfferComponent,\n    resolve: {\n      offer: OfferResolver\n    },\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OffersRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OffersRoutingModule } from './offers-routing.module';\nimport { MainOffersComponent } from './main-offers/main-offers.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { AutoCompleteModule } from 'primeng/autocomplete';\nimport { ButtonModule } from 'primeng/button';\nimport { CalendarModule } from 'primeng/calendar';\nimport { CardModule } from 'primeng/card';\nimport { CheckboxModule } from 'primeng/checkbox';\nimport { CodeHighlighterModule } from 'primeng/codehighlighter';\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\nimport { ContextMenuModule } from 'primeng/contextmenu';\nimport { DialogModule } from 'primeng/dialog';\nimport { DragDropModule } from 'primeng/dragdrop';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { DialogService, DynamicDialogModule } from 'primeng/dynamicdialog';\nimport { EditorModule } from 'primeng/editor';\nimport { FieldsetModule } from 'primeng/fieldset';\nimport { FileUploadModule } from 'primeng/fileupload';\nimport { InputNumberModule } from 'primeng/inputnumber';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { KeyFilterModule } from 'primeng/keyfilter';\nimport { MultiSelectModule } from 'primeng/multiselect';\nimport { PasswordModule } from 'primeng/password';\nimport { ProgressBarModule } from 'primeng/progressbar';\nimport { RadioButtonModule } from 'primeng/radiobutton';\nimport { RippleModule } from 'primeng/ripple';\nimport { StepsModule } from 'primeng/steps';\nimport { TableModule } from 'primeng/table';\nimport { TabViewModule } from 'primeng/tabview';\nimport { TooltipModule } from 'primeng/tooltip';\nimport { TreeTableModule } from 'primeng/treetable';\nimport { FormNewOfferComponent } from './form/new-offer/form-new-offer.component';\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\nimport { DetailsOfferComponent, OfferResolver } from './details-offer/details-offer.component';\nimport { AddOfferPositionComponent } from './form/add-offer-position/add-offer-position.component';\nimport { UpdateClientHelpersComponent } from './form/update-client-helpers/update-client-helpers.component';\nimport { UpdateOfferPositionComponent } from './form/update-offer-position/update-offer-position.component';\nimport {ToolbarModule} from 'primeng/toolbar';\nimport { UpdateClientHelperRangeComponent } from './form/update-client-helper-range/update-client-helper-range.component';\nimport { ViewOfferComponent } from './view-offer/view-offer.component';\nimport { TimelineWidgetComponent } from './timeline-widget/timeline-widget.component';\nimport { PrintOfferSettingsComponent } from './print-offer-settings/print-offer-settings.component';\n\n@NgModule({\n  declarations: [\n    MainOffersComponent, \n    FormNewOfferComponent,\n    DetailsOfferComponent, \n    AddOfferPositionComponent, \n    UpdateClientHelpersComponent, \n    UpdateOfferPositionComponent, \n    UpdateClientHelperRangeComponent, ViewOfferComponent, TimelineWidgetComponent, PrintOfferSettingsComponent,\n  ],\n  imports: [\n    CommonModule,\n    OffersRoutingModule,\n    MatIconModule,\n    TableModule,\n    FormsModule,\n    DropdownModule,\n    ButtonModule,\n    MatTooltipModule,\n    DialogModule,\n    FieldsetModule,\n    CodeHighlighterModule,\n    ReactiveFormsModule,\n    TabViewModule,\n    MatButtonModule,\n    MatDialogModule,\n    PasswordModule,\n    MatSlideToggleModule,\n    CalendarModule,\n    MultiSelectModule,\n    EditorModule,\n    TreeTableModule,\n    RadioButtonModule,\n    AutoCompleteModule,\n    MatAutocompleteModule,\n    ContextMenuModule,\n    ConfirmDialogModule,\n    CheckboxModule,\n    ProgressBarModule,\n    InputTextModule,\n    RippleModule,\n    FileUploadModule,\n    StepsModule,\n    DragDropModule,\n    CardModule,\n    InputNumberModule,\n    DynamicDialogModule,\n    TooltipModule,\n    KeyFilterModule,\n    ProgressSpinnerModule,\n    ToolbarModule\n  ],\n  providers: [DialogService,OfferResolver]\n})\nexport class OffersModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DynamicDialogRef, DynamicDialogConfig } from 'primeng/dynamicdialog';\nimport { InfoPopupComponent } from 'src/app/info-popup/info-popup.component';\nimport { Offer, OffersService } from '../../offers.service';\n\n@Component({\n  selector: 'app-update-client-helper-range',\n  templateUrl: './update-client-helper-range.component.html',\n  styleUrls: ['./update-client-helper-range.component.scss']\n})\nexport class UpdateClientHelperRangeComponent implements OnInit {\n\n  formClientHelper:FormGroup;\n  offerData: Offer;\n  loading = false;\n\n  constructor(\n    private infoPopup: InfoPopupComponent,\n    public ref: DynamicDialogRef,\n    private offerService: OffersService,\n    public config: DynamicDialogConfig,\n  ) { \n    this.offerData = config.data;\n  }\n\n  ngOnInit(): void {\n    this.formClientHelper = new FormGroup({\n      helper_mEasyTo50: new FormControl(''),\n      helper_mEasyTo150: new FormControl(''),\n      helper_mEasyTo500: new FormControl(''),\n      helper_mEasyAbove500: new FormControl(''),\n      \n      helper_mHardTo50: new FormControl(''),\n      helper_mHardTo150: new FormControl(''),\n      helper_mHardTo500: new FormControl(''),\n      helper_mHardAbove500: new FormControl(''),\n    });\n    this.formClientHelper.patchValue(this.offerData.client);\n  }\n\n  updateHelpers(){\n    this.loading = true;\n    this.offerService.updateClientHelpersRange(this.offerData.client.id,this.formClientHelper.value).subscribe({\n      next: (res) => {\n        this.infoPopup.showSuccessUpdate('parametry');\n        this.ref.close(1);\n      },\n      error:(err)=>{\n        this.infoPopup.showErrorUpdate('parametry');\n        console.log(err);\n      },\n      complete:()=>{\n        this.loading=false;\n      }\n    })\n  }\n\n  exit(id){\n    this.ref.close(id);\n  }\n\n}","<div class=\"sb-dialog-content\">\n\n    <form [formGroup]=\"formClientHelper\">\n        <div class=\"row \">\n            <div class=\"col helper-table\">\n                <table style=\"margin: 0 auto;\">\n                    <thead>\n                        <th class=\"text-left\">Metry</th>\n                        <th class=\"text-center\">atwe</th>\n                        <th class=\"text-center\">Trudne</th>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>0-50</td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mEasyTo50')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mHardTo50')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>51-150</td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mEasyTo150')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mHardTo150')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>151-500</td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mEasyTo500')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mHardTo500')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>pow. 500</td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mEasyAbove500')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                            <td>\n                                <p-inputNumber [inputStyle]=\"{'width':'100px'}\" mode=\"decimal\"\n                                    [formControl]=\"formClientHelper.get('helper_mHardAbove500')\" [showButtons]=\"true\"\n                                    [step]=\"0.1\">\n                                </p-inputNumber>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </form>\n\n</div>\n\n<div class=\"sb-dialog-footer\">\n    <div class=\"sb-btn-close\">\n        <button pButton pRipple type=\"button\" (click)=\"exit(0)\" pTooltip=\"Anulowanie aktualizowania\" label=\"Anuluj\"\n            icon=\"pi pi-times\" class=\"p-button-sm sb-button o-gray\">\n        </button>\n    </div>\n    <div class=\"sb-btn-save\">\n        <button [disabled]=\"loading\" pButton pRipple type=\"button\" (click)=\"updateHelpers()\" pTooltip=\"Aktualizuj\"\n            label=\"Zapisz\" icon=\"pi pi-check\" class=\"p-button-sm sb-button green\">\n        </button>\n        <p-progressSpinner *ngIf=\"loading\" [style]=\"{width: '25px', height: '25px'}\" styleClass=\"custom-spinner\"\n            strokeWidth=\"8\" fill=\"#EEEEEE\" animationDuration=\".5s\"></p-progressSpinner>\n    </div>\n</div>"]}